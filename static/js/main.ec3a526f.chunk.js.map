{"version":3,"sources":["redux/utils/storage.js","redux/utils/jeedom.js","redux/modules/settingsForm.js","redux/modules/launchScreen.js","redux/modules/snackbar.js","redux/modules/settings.js","redux/modules/mode.js","redux/modules/light.js","redux/modules/summary.js","redux/modules/room.js","redux/modules/camera.js","redux/modules/door.js","redux/modules/thermostat.js","redux/modules/weather.js","redux/configureStore.js","containers/SettingsForm/SettingsForm.js","components/LaunchScreen/LaunchScreen.js","components/Pill/Pill.js","components/Summary/Summary.js","components/Header/Header.js","components/Card/Card.js","components/CardCamera/CardCamera.js","components/Backdrop/Backdrop.js","components/BackdropDoorHistory/BackdropDoorHistory.js","components/utils.js","components/CardCameraDoor/CardCameraDoor.js","components/CardDoor/CardDoor.js","components/CardLights/CardLights.js","components/CardMode/CardMode.js","components/Chart/ChartLine.js","components/BackdropWeatherHistory/BackdropWeatherHistory.js","components/CardWeather/CardWeather.js","components/CardThermostat/CardThermostat.js","constants/cards.js","containers/CardContainer/CardContainer.js","components/Home/Home.js","components/BackdropRoom/BackdropRoom.js","components/Room/Room.js","constants/rooms.js","components/RoomList/RoomList.js","components/BackdropSettings/BackdropSettings.js","components/Snackbar/Snackbar.js","containers/App/App.js","serviceWorker.js","index.js","components/LaunchScreen/loader.svg","components/Summary/sun.svg","components/Summary/rain.svg","components/Summary/light.svg","components/Summary/user.svg","components/Summary/mail.svg"],"names":["setStorageSettings","settings","Promise","resolve","reject","localStorage","setItem","url","apikey","e","getStorageSettings","getItem","JEE_API","getRandomInt","Math","floor","random","getJeedomVersion","payload","options","method","body","JSON","stringify","fetch","then","response","json","getJeedomEquipment","equipmentId","result","getJeedomRooms","execJeedomCmd","id","requestOptions","getJeedomCommand","getJeedomCommandHistory","cmd","startTime","saga","settingsFormSaveSaga","SETTINGS_FORM_SAVE_REQUESTED","SETTINGS_FORM_CHECK_FAILED","SETTINGS_FORM_SAVE_SUCCEEDED","SETTINGS_FORM_SAVE_FAILED","initialState","checkFailed","saveRequested","saveFailed","takeLatest","action","call","error","Error","message","put","type","onSuccess","appLaunchSaga","settingsFormSaveSucceededSaga","APP_LAUNCH_REQUESTED","APP_LAUNCH_SUCCEEDED","APP_LAUNCH_FAILED","show","showSetup","appLaunchSucceeded","takeEvery","snackbarSaga","SHOW_SNACKBAR_DELAY","SNACKBAR_SHOW","SNACKBAR_HIDE","text","showErrorSnackbar","delay","settingsFormSucceededSaga","SETTINGS_SHOW","SETTINGS_HIDE","SETTINGS_FORM_SUCCEEDED","hideSettings","modeListRequestSaga","modeChangeRequestSaga","REFRESH_DELAY","SNACKBAR_ERROR","MODE_LIST_REQUESTED","MODE_LIST_LOADED","MODE_LIST_ERRORED","MODE_CHANGE_REQUESTED","MODE_CHANGE_SUCCEEDED","MODE_CHANGE_ERRORED","modeListRequested","modeListErrored","modeChangeErrored","equipment","lightStatusRequestSaga","lightAllOffRequestSaga","JEEDOM_EQUIPMENT_ID","JEEDOM_OFF_COMMAND_ID","LIGHT_ALL_OFF_ERROR_SNACKBAR","LIGHT_ALL_STATUS_REQUESTED","LIGHT_ALL_STATUS_LOADED","LIGHT_ALL_STATUS_ERRORED","LIGHT_ALL_OFF_REQUESTED","loading","lights","allLightStatusRequested","allLightStatusErrored","allLightStatusLoaded","summaryIntervalRegistrationSaga","summaryRequestSaga","SUMMARY_EQUIPMENT_ID","SUMMARY_INTERVAL_REGISTRATION","SUMMARY_REQUESTED","SUMMARY_LOADED","SUMMARY_ERRORED","homeTemperature","outsideTemperature","outsideRain","presence","cyril","helena","summaryRequested","summaryLoaded","LIGHT_REFRESH_DELAY","roomRequestSaga","ROOM_REQUESTED","ROOM_LOADED","ROOM_ERRORED","list","roomsLoaded","cameraImageRequestSaga","CAMERA_IMAGE_REQUESTED","CAMERA_IMAGE_LOADED","CAMERA_IMAGE_ERRORED","cameraImageLoaded","cameraId","imageUrl","undefined","cameraUrl","cmds","find","el","generic_type","TypeError","currentValue","doorStatusWithHistoryRequestSaga","doorStatusRequestSaga","doorHistoryRequestSaga","doorTriggerRequestSaga","DOOR_HISTORY_DEFAULT_DAYS_NUMBER","DOOR_STATUS_WITH_HISTORY_REQUESTED","DOOR_STATUS_REQUESTED","DOOR_STATUS_LOADED","DOOR_STATUS_ERRORED","DOOR_HISTORY_REQUESTED","DOOR_HISTORY_LOADED","DOOR_HISTORY_ERRORED","DOOR_HISTORY_SHOW","DOOR_HISTORY_HIDE","DOOR_TRIGGER_REQUESTED","DOOR_TRIGGER_ERRORED","DOOR_TRIGGER_SUCCEEDED","doorStatusRequested","doorStatusErrored","doorHistoryErrored","doorTriggerErrored","doorTriggerSucceeded","putResolve","days","command","DateTime","local","minus","toFormat","history","historyPayload","console","log","thermostatRequestSaga","thermostatModeChangeRequestSaga","CHANGE_MODE_REFRESH_DELAY","CHANGE_MODE_ERROR_SNACKBAR","THERMOSTAT_REQUESTED","THERMOSTAT_LOADED","THERMOSTAT_ERRORED","THERMOSTAT_MODE_CHANGE_REQUESTED","THERMOSTAT_MODE_CHANGE_ERRORED","THERMOSTAT_MODE_CHANGE_SUCCEEDED","thermostatRequested","thermostatLoaded","thermostat","thermostatErrored","takeLeading","thermostatId","thermostatName","name","availableModes","filter","isVisible","thermostatModes","forEach","mode","push","order","currentMode","logicalId","thermostatCurrentMode","thermostatPower","thermostatTemperature","thermostatSetPoint","modes","power","temperature","setpoint","weatherRequestSaga","weatherHistoryRequestSaga","weatherHistoryShowSaga","GENERIC_TYPE","WEATHER_HISTORY_DEFAULT_DAYS_NUMBER","WEATHER_REQUESTED","WEATHER_LOADED","WEATHER_ERRORED","WEATHER_HISTORY_REQUESTED","WEATHER_HISTORY_LOADED","WEATHER_HISTORY_ERRORED","WEATHER_HISTORY_SHOWN","WEATHER_HISTORY_HIDED","weatherLoaded","weather","weatherErrored","weatherHistoryLoaded","item","weatherHistoryErrored","weatherItems","Object","keys","key","value","unit","unite","isHistorized","data","getWeatherItemCommandId","state","select","rootSaga","sagaMiddleware","createSagaMiddleware","storeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","launchScreen","settingsForm","snackbar","summary","light","presenceCyril","presenceHelena","mail","parseFloat","toFixed","room","map","camera","label","singularComplement","display","parameters","door","statusPayload","open","event","datetime","fromFormat","sort","a","b","diff","showHistory","currentModeValue","loadedThermostat","weatherId","weatherItem","weatherState","loadedWeather","historyData","spawn","launchScreenSaga","settingsFormSaga","settingsSaga","snackBarSaga","summarySaga","roomSaga","cameraSaga","lightSaga","doorSaga","modeSaga","thermostatSaga","weatherSaga","store","createStore","applyMiddleware","run","SettingsForm","handleChange","bind","handleSubmit","setState","this","target","preventDefault","props","saveSettingsForm","errorCheck","className","role","errorSave","button","disabled","onSubmit","htmlFor","onChange","Component","connect","LaunchScreen","loader","src","loaderSvg","width","alt","Pill","pillImage","image","pillImgStyle","backgroundImage","imgClassName","join","style","Summary","outsideImage","imgRain","imgSun","imgLight","imgMail","reduce","total","person","imgUser","Header","collapsedClassName","collapsed","href","onClick","onShowSettings","Card","cssClass","backgroundUrl","backgroundSize","imgTop","imgBottom","overlay","hasChildren","children","title","CardCamera","time","Date","now","interval","setInterval","clearInterval","cameraImage","Backdrop","handleClose","setTimeout","onClose","HISTORY_LENGTH","formatHistoryListItem","element","i","badgeClassName","BackdropDoorHistory","historyList","slice","formatDoorDate","object","status","length","diffNow","negate","CardCameraDoor","useState","hasConfirmation","setShowConfirmation","hideConfirmation","confirmationBackdrop","onDoorTriggerClick","triggerCmd","historyButton","onHistoryClick","onHistoryBackdropClose","CardDoor","CardLights","lightsOn","offPayload","off_cmd_id","labels","onOffClick","CardMode","currentModeName","buttons","cmdId","onModeClick","aria-label","ChartLine","elem","toJSDate","values","datasets","backgroundColor","borderColor","fill","scales","xAxes","elements","point","radius","legend","BackdropWeatherHistory","content","WEATHER_ITEMS_NAME","formatWeatherItem","generateHistoryCloseHandler","handler","CardWeather","onHistoryClose","items","CardThermostat","showPower","showButtons","modeIndex","handleChangeCancel","handleChangeMode","handleOnChange","indexOf","onModeChange","defaultModeIndex","step","datalistOptions","optionSize","changeButtons","min","max","defaultValue","CARD_TYPES","CARD_HOUSE_MODE","equipment_id","CARD_HOUSE_LIGHT_ALL","CARD_LIVING_THERMOSTAT","weather_equipment_id","thermostat_equipment_id","CARD_LIVING_LIGHT_MODE","CARD_LIVING_CAMERA","CARD_KITCHEN_WEAHTER","CARD_KITCHEN_LIGHT_MODE","CARD_BEDROOM_MAIN_THERMOSTAT","CARD_BEDROOM_AGATHE_THERMOSTAT","CARD_ENTRY_DOOR","command_id","CARD_ENTRY_LIGHT_MODE","CARD_OFFICE_WEATHER","CARD_BATHROOM_WEATHER","CARD_GARAGE_CAMERADOOR","door_status_command","door_trigger_command","CARD_EXTERIOR_WEATHER","CardContainer","handleShowMoreCards","prepareAllCards","prevProps","cards","card","prepareCard","getCameraImage","getDoorStatusHistory","getAllLightStatus","getMode","getThermostat","getWeather","index","handleDoorTriggerClick","handleDoorHistoryClick","handleDoorHistoryBackdropClose","handleAllLightOffClick","handleThermostatModeChange","handleWeatherHistoryShow","handleWeatherHistoryClose","createCard","mainCards","otherCards","collapse","mapDispatchToProps","Home","BackdropRoom","Room","showBackdrop","handleClick","backdrop","ROOMS","RoomList","roomList","BackdropSettings","Snackbar","App","collapsedHeader","handleScroll","threshold","getComputedStyle","document","documentElement","fontSize","scrollY","addEventListener","appLaunchRequested","setSummaryIntervalRegistration","removeEventListener","handleLaunchScreenSetupSuccess","handleShowSettings","showSettingsBackdrop","handleCloseSettings","handleSettingsBackdropFormSuccess","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.ec3a526f.chunk.js","sourcesContent":["export function setStorageSettings(settings) {\n  return new Promise((resolve, reject) => {\n    try {\n      localStorage.setItem('url', settings.url);\n      localStorage.setItem('apikey', settings.apikey);\n\n      resolve();\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nexport function getStorageSettings() {\n  return new Promise((resolve, reject) => {\n    try {\n      const url = localStorage.getItem('url');\n      const apikey = localStorage.getItem('apikey');\n\n      resolve({ url, apikey });\n    } catch (e) {\n      reject(e);\n    }\n  });\n}","import { getStorageSettings } from './storage';\n\nconst JEE_API = 'core/api/jeeApi.php';\n\nfunction getRandomInt() {\n  return Math.floor(Math.random() * Math.floor(100));\n}\n\nexport function getJeedomVersion(payload) {\n  const options = {\n    method: 'POST',\n    body: JSON.stringify({\n      'jsonrpc': '2.0',\n      'id': getRandomInt(),\n      'method': 'version',\n      'params': {\n        'apikey': payload.apikey,\n      }\n    })\n  };\n\n  return fetch(payload.url + JEE_API, options)\n    .then(response => response.json())\n}\n\nexport function getJeedomEquipment(equipmentId) {\n  return getStorageSettings()\n    .then((settings) => {\n      const options = {\n        method: 'POST',\n        body: JSON.stringify({\n          'jsonrpc': '2.0',\n          'id': getRandomInt(),\n          'method': 'eqLogic::fullById',\n          'params': {\n            'apikey': settings.apikey,\n            'id': equipmentId,\n          }\n        })};\n      const url = settings.url + JEE_API;\n      return fetch(url, options)\n    })\n    .then(response => response.json())\n    .then(response => response.result) \n}\n\nexport function getJeedomRooms() {\n  return getStorageSettings()\n    .then((settings) => {\n      const options = {\n        method: 'POST',\n        body: JSON.stringify({\n          'jsonrpc': '2.0',\n          'id': getRandomInt(),\n          'method': 'object::all',\n          'params': {\n            'apikey': settings.apikey\n          }\n        })};\n      const url = settings.url + JEE_API;\n      return fetch(url, options)\n    })\n    .then(response => response.json())\n    .then(response => response.result)\n}\n\nexport function execJeedomCmd(id, options = {}) {\n  return getStorageSettings()\n    .then((settings) => {\n      const requestOptions = {\n        method: 'POST',\n        body: JSON.stringify({\n          'jsonrpc': '2.0',\n          'id': getRandomInt(),\n          'method': 'cmd::execCmd',\n          'params': {\n            'apikey': settings.apikey,\n            'id': id,\n            'options': options,\n          }\n        })};\n      const url = settings.url + JEE_API;\n      return fetch(url, requestOptions)\n    })\n    .then(response => response.json())\n    .then(response => response.result)  \n}\n\nexport function getJeedomCommand(id) {\n  return getStorageSettings()\n    .then((settings) => {\n      const requestOptions = {\n        method: 'POST',\n        body: JSON.stringify({\n          'jsonrpc': '2.0',\n          'id': getRandomInt(),\n          'method': 'cmd::byId',\n          'params': {\n            'apikey': settings.apikey,\n            'id': id,\n          }\n        })};\n      const url = settings.url + JEE_API;\n      return fetch(url, requestOptions)\n    })\n    .then(response => response.json())\n    .then(response => response.result)  \n}\n\nexport function getJeedomCommandHistory(payload) {\n  return getStorageSettings()\n    .then((settings) => {\n      const requestOptions = {\n        method: 'POST',\n        body: JSON.stringify({\n          'jsonrpc': '2.0',\n          'id': getRandomInt(),\n          'method': 'cmd::getHistory',\n          'params': {\n            'apikey': settings.apikey,\n            'id': payload.cmd,\n            'startTime': payload.startTime,\n          }\n        })};\n      const url = settings.url + JEE_API;\n      return fetch(url, requestOptions)\n    })\n    .then(response => response.json())\n    .then(response => response.result)  \n}","import { takeLatest, call, put } from 'redux-saga/effects';\nimport { getJeedomVersion } from '../utils/jeedom';\nimport { setStorageSettings } from '../utils/storage';\n\n// Actions\nexport const SETTINGS_FORM_SAVE_REQUESTED = 'SETTINGS_FORM_SAVE_REQUESTED';\nexport const SETTINGS_FORM_CHECK_FAILED = 'SETTINGS_FORM_CHECK_FAILED';\nexport const SETTINGS_FORM_SAVE_SUCCEEDED = 'SETTINGS_FORM_SAVE_SUCCEEDED';\nexport const SETTINGS_FORM_SAVE_FAILED = 'SETTINGS_FORM_SAVE_FAILED';\n\n// Reducer\nconst initialState = {\n  checkFailed: false,\n  saveRequested: false,\n  saveFailed: false,\n};\n\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case SETTINGS_FORM_SAVE_REQUESTED:\n      return { checkFailed: false, saveRequested: true, saveFailed: false };\n\n    case SETTINGS_FORM_CHECK_FAILED:\n      return { checkFailed: true, saveRequested: false, saveFailed: false }\n\n    case SETTINGS_FORM_SAVE_FAILED:\n      return { checkFailed: false, saveRequested: false, saveFailed: true }\n\n    case SETTINGS_FORM_SAVE_SUCCEEDED:\n      return { checkFailed: false, saveRequested: false, saveFailed: false }\n\n    default: return state;\n  }\n}\n\n// Action Creators\nexport function saveSettingsForm(payload) {\n  return { type: SETTINGS_FORM_SAVE_REQUESTED, payload}\n}\nexport function checkSettingsFormFailed() {\n  return { type: SETTINGS_FORM_CHECK_FAILED }\n}\nexport function saveSettingsFormSucceeded(payload) {\n  return { type: SETTINGS_FORM_SAVE_SUCCEEDED, payload }\n}\nexport function saveSettingsFormFailed() {\n  return { type: SETTINGS_FORM_SAVE_FAILED }\n}\n\n\n// Side effects\nexport function* saga() {\n  yield takeLatest(SETTINGS_FORM_SAVE_REQUESTED, settingsFormSaveSaga);\n}\n\nfunction* settingsFormSaveSaga(action) {\n  try {\n    const response = yield call(getJeedomVersion, action.payload);\n\n    if (response.error) {\n      throw new Error(response.error.message);\n    }\n  } catch (e) {\n    yield put(checkSettingsFormFailed(e))\n    return;\n  }\n\n  try {\n    yield call(setStorageSettings, action.payload);\n    yield put(saveSettingsFormSucceeded(action.payload));\n\n    if (action.payload.onSuccess) {\n      yield put(action.payload.onSuccess());\n    }\n  } catch (e) {\n    yield put(saveSettingsFormFailed(e))\n  }\n}","import { takeEvery, takeLatest, call, put } from 'redux-saga/effects';\nimport { getJeedomVersion } from '../utils/jeedom';\nimport { getStorageSettings } from '../utils/storage';\nimport { SETTINGS_FORM_SAVE_SUCCEEDED } from './settingsForm';\n\n// Actions\nexport const APP_LAUNCH_REQUESTED = 'APP_LAUNCH_REQUESTED';\nexport const APP_LAUNCH_SUCCEEDED = 'APP_LAUNCH_SUCCEEDED';\nexport const APP_LAUNCH_FAILED = 'APP_LAUNCH_FAILED';\n\n// Reducer\nconst initialState = {\n  show: true,\n  showSetup: false,\n};\n\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case APP_LAUNCH_FAILED:\n      return { show: true, showSetup: true }\n      \n    case APP_LAUNCH_SUCCEEDED:\n      return { show: false, showSetup: false };\n\n    default: return state;\n  }\n}\n\n// Action Creators\nexport function appLaunchRequested() {\n  return { type: APP_LAUNCH_REQUESTED };\n}\nexport function appLaunchSucceeded() {\n  return { type: APP_LAUNCH_SUCCEEDED };\n}\nexport function appLaunchFailed() {\n  return { type: APP_LAUNCH_FAILED };\n}\n\n// Side effects\nexport function* saga() {\n  yield takeLatest(APP_LAUNCH_REQUESTED, appLaunchSaga);\n  yield takeEvery(SETTINGS_FORM_SAVE_SUCCEEDED, settingsFormSaveSucceededSaga);\n}\n\nfunction* appLaunchSaga() {\n  try {\n    const settings = yield call(getStorageSettings);\n\n    if (!settings.url || !settings.apikey) {\n      throw new Error('Settings undefined');\n    }\n\n    const response = yield call(getJeedomVersion, settings);\n    if (response.error) {\n      throw new Error(response.error.message);\n    }\n\n    yield put(appLaunchSucceeded());\n  } catch (e) {\n    yield put(appLaunchFailed(e))\n    return;\n  }\n}\n\nfunction* settingsFormSaveSucceededSaga() {\n  yield put(appLaunchSucceeded());\n}","import { takeLatest, put, delay } from 'redux-saga/effects';\n\nconst SHOW_SNACKBAR_DELAY = 10 * 1000;\nconst DEFAULT_TYPE = 'success';\n\n// Actions\nconst SNACKBAR_SHOW = 'SNACKBAR_SHOW';\nconst SNACKBAR_HIDE = 'SNACKBAR_HIDE';\n\n// Reducer\nconst initialState = {\n  text: '',\n  type: 'success',\n};\n\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case SNACKBAR_SHOW:\n      return { text: action.payload.text, type: action.payload.type }\n\n    case SNACKBAR_HIDE:\n      return { text: '' }\n\n    default: return state;\n  }\n}\n\n// Action Creators\nexport function showSnackbar(text) {\n  return { type: SNACKBAR_SHOW, payload: {\n    text: text,\n    type:  DEFAULT_TYPE,\n  }};\n}\nexport function showSuccessSnackbar(text) {\n  return { type: SNACKBAR_SHOW, payload: {\n    text: text,\n    type: 'success',\n  }};\n}\nexport function showWarningSnackbar(text) {\n  return { type: SNACKBAR_SHOW, payload: {\n    text: text,\n    type: 'warning',\n  }};\n}\nexport function showErrorSnackbar(text) {\n  return { type: SNACKBAR_SHOW, payload: {\n    text: text,\n    type: 'danger',\n  }};\n}\nexport function hideSnackbar() {\n  return { type: SNACKBAR_HIDE };\n}\n\n// Side effects\nexport function* saga() {\n  yield takeLatest(SNACKBAR_SHOW, snackbarSaga);\n}\n\nfunction* snackbarSaga() {\n  yield delay(SHOW_SNACKBAR_DELAY);\n  yield put(hideSnackbar())\n}","import { takeEvery, put } from 'redux-saga/effects';\nimport { showSuccessSnackbar } from './snackbar';\n\n// Actions\nexport const SETTINGS_SHOW = 'SETTINGS_SHOW';\nexport const SETTINGS_HIDE = 'SETTINGS_HIDE';\nexport const SETTINGS_FORM_SUCCEEDED = 'SETTINGS_FORM_SUCCEEDED';\n\n// Reducer\nconst initialState = {\n  show: false,\n};\n\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case SETTINGS_SHOW:\n      return { show: true, checkFailed: false, saveRequested: false, saveFailed: false };\n\n    case SETTINGS_HIDE:\n      return { show: false, checkFailed: false, saveRequested: false, saveFailed: false };\n\n    default: return state;\n  }\n}\n\n// Action Creators\nexport function showSettings(e) {\n  if (e) {\n    e.preventDefault();\n  }\n  return { type: SETTINGS_SHOW };\n}\nexport function hideSettings() {\n  return { type: SETTINGS_HIDE };\n}\nexport function settingsFormSucceeded() {\n  return { type: SETTINGS_FORM_SUCCEEDED };\n}\n\n// Side effects\nexport function* saga() {\n  yield takeEvery(SETTINGS_FORM_SUCCEEDED, settingsFormSucceededSaga);\n}\n\nfunction* settingsFormSucceededSaga() {\n  yield put(hideSettings());\n  yield put(showSuccessSnackbar('Paramètres enregistrés !'));\n}","import { takeEvery, call, put, delay } from 'redux-saga/effects';\nimport { getJeedomEquipment, execJeedomCmd } from '../utils/jeedom';\nimport { showErrorSnackbar } from './snackbar';\n\nexport const REFRESH_DELAY = 1000;\n\nexport const SNACKBAR_ERROR = 'Erreur lors du changement de mode !';\n\n// Actions\nexport const MODE_LIST_REQUESTED = 'MODE_LIST_REQUESTED';\nexport const MODE_LIST_LOADED = 'MODE_LIST_LOADED';\nexport const MODE_LIST_ERRORED = 'MODE_LIST_ERRORED';\nexport const MODE_CHANGE_REQUESTED = 'MODE_CHANGE_REQUESTED';\nexport const MODE_CHANGE_SUCCEEDED = 'MODE_CHANGE_SUCCEEDED';\nexport const MODE_CHANGE_ERRORED = 'MODE_CHANGE_ERRORED';\n\n// Reducer\nconst initialState = {\n};\n\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case MODE_LIST_REQUESTED:\n      return {\n        ...state,\n        [action.id]: {\n          ...state[action.id],\n          id: action.id,\n          loading: true,\n          error: false,\n        }\n      }\n    \n    case MODE_LIST_ERRORED:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          id: action.payload.id,\n          loading: false,\n          error: true,\n        }\n      }\n\n    case MODE_LIST_LOADED:\n      const equipment = action.payload.equipment;\n      const cmds = equipment.cmds;\n\n      let modes = [];\n      cmds.forEach(cmd => {\n        if (cmd.isVisible === '1' && cmd.logicalId !== 'currentMode') {\n          modes.push({\n            id: cmd.id,\n            name: cmd.name,\n            order: cmd.order,\n          });\n        }\n      });\n\n      const currentModeValue = cmds.find(el => (el.logicalId === 'currentMode')).currentValue;\n      const currentMode = modes.find(mode => (mode.name === currentModeValue));\n\n      return {\n        ...state,\n        [action.payload.id]: {\n          id: action.payload.id,\n          currentMode: currentMode,\n          modes: modes,\n          loading: false,\n          error: false,\n        }\n      };\n    \n    case MODE_CHANGE_REQUESTED:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          loading: true,\n        }\n      }\n    \n    case MODE_CHANGE_ERRORED:\n        return {\n          ...state,\n          [action.payload.id]: {\n            ...state[action.payload.id],\n            loading: false,\n          }\n        }\n    \n    case MODE_CHANGE_SUCCEEDED:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          loading: false,\n          error: false,\n        }\n      }\n\n    default: return state;\n  }\n}\n\n// Action Creators\nexport function modeListRequested(id) {\n  return { type: MODE_LIST_REQUESTED, id: id }\n}\nexport function modeListLoaded(payload) {\n  return {\n    type: MODE_LIST_LOADED,\n    payload: {\n      id: payload.id,\n      equipment: payload.equipment,\n    }\n  }\n}\nexport function modeListErrored(payload) {\n  return {\n    type: MODE_LIST_ERRORED,\n    payload: {\n      id: payload.id,\n      error: payload.error,\n    }\n  }\n}\nexport function modeChangeRequested(payload) {\n  return { type: MODE_CHANGE_REQUESTED,\n    payload: {\n      id: payload.id,\n      cmd: payload.cmd,\n    }\n  }\n}\nexport function modeChangeSucceeded(payload) {\n  return { type: MODE_CHANGE_SUCCEEDED,\n    payload: {\n      id: payload.id,\n      cmd: payload.cmd,\n    }\n  }\n}\nexport function modeChangeErrored(payload) {\n  return { type: MODE_CHANGE_ERRORED,\n    payload: {\n      id: payload.id,\n      cmd: payload.cmd,\n      error: payload.error,\n    }\n  }\n}\n\n// Side effects\nexport function* saga() {\n  yield takeEvery(MODE_LIST_REQUESTED, modeListRequestSaga);\n  yield takeEvery(MODE_CHANGE_REQUESTED, modeChangeRequestSaga);\n}\n\nexport function* modeListRequestSaga(action) {\n  try {\n    const equipment = yield call(getJeedomEquipment, action.id);\n    yield put(modeListLoaded({\n      id: action.id,\n      equipment\n    }));\n  } catch (e) {\n    yield put(modeListErrored({\n      id: action.id,\n      error: e,\n    }));\n  }\n}\n\nexport function* modeChangeRequestSaga(action) {\n  try {\n    yield call(execJeedomCmd, action.payload.cmd);\n    yield delay(REFRESH_DELAY);\n    yield put(modeChangeSucceeded({\n      id: action.payload.id,\n      cmd: action.payload.cmd,\n    }));\n  } catch (e) {\n    yield put(modeChangeErrored({\n      id: action.payload.id,\n      cmd: action.payload.cmd,\n      error: e,\n    }));\n    yield put(showErrorSnackbar(SNACKBAR_ERROR));\n  } finally {\n    yield put(modeListRequested(action.payload.id));\n  }\n}\n","import { takeEvery, call, put, delay } from 'redux-saga/effects';\nimport { getJeedomEquipment, execJeedomCmd } from '../utils/jeedom';\n\nimport { showErrorSnackbar } from './snackbar';\nimport { MODE_CHANGE_SUCCEEDED } from './mode';\n\nexport const JEEDOM_EQUIPMENT_ID = 190;\nexport const JEEDOM_OFF_COMMAND_ID = 1094;\n\nexport const REFRESH_DELAY = 3 * 1000;\nexport const LIGHT_ALL_OFF_ERROR_SNACKBAR = \"Erreur lors de l'extinction des lumières !\";\n\n// Actions\nexport const LIGHT_ALL_STATUS_REQUESTED = 'LIGHT_ALL_STATUS_REQUESTED';\nexport const LIGHT_ALL_STATUS_LOADED = 'LIGHT_ALL_STATUS_LOADED';\nexport const LIGHT_ALL_STATUS_ERRORED = 'LIGHT_ALL_STATUS_ERRORED';\nexport const LIGHT_ALL_OFF_REQUESTED = 'LIGHT_ALL_OFF_REQUESTED';\n\n// Reducer\nconst initialState = {\n  loading: false,\n  error: false,\n  lights: [],\n};\n\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case LIGHT_ALL_STATUS_REQUESTED:\n      return {\n        loading: true,\n        error: false,\n        lights: [],\n      };\n\n    case LIGHT_ALL_STATUS_ERRORED:\n      return {\n        loading: false,\n        error: true,\n        lights: [],\n      };\n    \n    case LIGHT_ALL_STATUS_LOADED:\n      const equipment = action.payload.equipment;\n      const cmds = equipment.cmds;\n\n      let lights = [];\n      cmds.forEach(cmd => {\n        if (cmd.isVisible === '1' && cmd.logicalId !== 'refresh') {\n          let label = cmd.name;\n          let singularComplement = 'de la';\n          if (cmd.display.parameters\n            && cmd.display.parameters.label\n            && cmd.display.parameters.singularComplement) {\n            label = cmd.display.parameters.label;\n            singularComplement = cmd.display.parameters.singularComplement;\n          }\n          \n          lights.push({\n            id: cmd.id,\n            name: cmd.name,\n            order: cmd.order,\n            value: cmd.currentValue,\n            label: label,\n            singularComplement: singularComplement,\n          });\n        }\n      });\n\n      return {\n        loading: false,\n        error: false,\n        lights: lights,\n      };\n\n    default: return state;\n  }\n}\n\n// Action Creators\nexport function allLightStatusRequested() {\n  return { type: LIGHT_ALL_STATUS_REQUESTED }\n}\nexport function allLightStatusErrored({ error }) {\n  return { type: LIGHT_ALL_STATUS_ERRORED, payload: { error }};\n}\nexport function allLightStatusLoaded({ equipment }) {\n  return { type: LIGHT_ALL_STATUS_LOADED, payload: { equipment } }\n}\n\nexport function allLightsOffRequested() {\n  return { type: LIGHT_ALL_OFF_REQUESTED }\n}\n\n// Side effects\nexport function* saga() {\n  yield takeEvery(LIGHT_ALL_STATUS_REQUESTED, lightStatusRequestSaga);\n  yield takeEvery(LIGHT_ALL_OFF_REQUESTED, lightAllOffRequestSaga);\n  yield takeEvery(MODE_CHANGE_SUCCEEDED, lightStatusRequestSaga)\n}\n\nexport function* lightStatusRequestSaga() {\n  try {\n    const equipment = yield call(getJeedomEquipment, JEEDOM_EQUIPMENT_ID);\n    yield put(allLightStatusLoaded({ equipment }));\n  } catch (error) {\n    yield put(allLightStatusErrored({ error }));\n  }\n}\n\nexport function* lightAllOffRequestSaga() {\n  try {\n    yield call(execJeedomCmd, JEEDOM_OFF_COMMAND_ID);\n    yield delay(REFRESH_DELAY);\n    yield put(allLightStatusRequested());\n  } catch (e) {\n    yield put(showErrorSnackbar(LIGHT_ALL_OFF_ERROR_SNACKBAR));\n  }\n}\n","import { takeEvery, takeLatest, call, put, delay } from 'redux-saga/effects';\nimport { getJeedomEquipment } from '../utils/jeedom';\nimport { LIGHT_ALL_OFF_REQUESTED, REFRESH_DELAY as LIGHT_REFRESH_DELAY } from './light';\n\nconst SUMMARY_EQUIPMENT_ID = 185;\nconst REFRESH_DELAY = 60 * 1000;\n\n// Actions\nexport const SUMMARY_INTERVAL_REGISTRATION = 'SUMMARY_INTERVAL_REGISTRATION';\nexport const SUMMARY_REQUESTED = 'SUMMARY_REQUESTED';\nexport const SUMMARY_LOADED = 'SUMMARY_LOADED';\nexport const SUMMARY_ERRORED = 'SUMMARY_ERRORED';\n\n// Reducer\nconst initialState = {\n  homeTemperature: '-',\n  outsideTemperature: '-',\n  outsideRain: '-',\n  presence: {\n    cyril: false,\n    helena: false,\n  }\n};\n\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case SUMMARY_LOADED:\n      const cmds = action.payload.cmds;\n\n      const homeTemperature = cmds.find(el => (el.name === 'temp-home'));\n      const outsideTemperature = cmds.find(el => (el.name === 'temp-outside'));\n      const outsideRain = cmds.find(el => (el.name === 'rain'));\n      const light = cmds.find(el => (el.name === 'light'));\n      const presenceCyril = cmds.find(el => (el.name === 'presence-cyril'));\n      const presenceHelena = cmds.find(el => (el.name === 'presence-helena'));\n      const mail = cmds.find(el => (el.name === 'mail'));\n\n      return {\n        homeTemperature: homeTemperature ? parseFloat(homeTemperature.currentValue).toFixed(1) : '-',\n        outsideTemperature: outsideTemperature ? outsideTemperature.currentValue : '-',\n        outsideRain: outsideRain ? outsideRain.currentValue : '-',\n        light: light.currentValue,\n        presence: {\n          cyril: presenceCyril.currentValue === 1 ? true : false,\n          helena: presenceHelena.currentValue === 1 ? true : false,\n        },\n        mail: mail.currentValue === 1 ? true : false,\n      };\n\n    default: return state;\n  }\n}\n\n// Action Creators\nexport function setSummaryIntervalRegistration() {\n  return { type: SUMMARY_INTERVAL_REGISTRATION }\n}\nexport function summaryRequested() {\n  return { type: SUMMARY_REQUESTED }\n}\nexport function summaryLoaded(payload) {\n  return { type: SUMMARY_LOADED, payload }\n}\nexport function summaryErrored(e) {\n  return { type: SUMMARY_ERRORED, payload: e };\n}\n\n// Side effects\nexport function* saga() {\n  yield takeEvery(SUMMARY_REQUESTED, summaryRequestSaga);\n  yield takeLatest(SUMMARY_INTERVAL_REGISTRATION, summaryIntervalRegistrationSaga);\n  yield takeEvery(LIGHT_ALL_OFF_REQUESTED, lightAllOffRequestSaga);\n}\n\nfunction* summaryIntervalRegistrationSaga() {\n  while(true) {\n    yield put(summaryRequested())\n    yield delay(REFRESH_DELAY);\n  }\n}\n\nfunction* summaryRequestSaga() {\n  try {\n    const payload = yield call(getJeedomEquipment, SUMMARY_EQUIPMENT_ID);\n    yield put(summaryLoaded(payload));\n  } catch (e) {\n    yield put(summaryErrored(e));\n  }\n}\n\nfunction* lightAllOffRequestSaga() {\n  yield delay(LIGHT_REFRESH_DELAY);\n  yield put(summaryRequested())\n}","import { takeEvery, call, put } from 'redux-saga/effects';\nimport { getJeedomRooms } from '../utils/jeedom';\n\n// Actions\nexport const ROOM_REQUESTED = 'ROOM_REQUESTED';\nexport const ROOM_LOADED = 'ROOM_LOADED';\nexport const ROOM_ERRORED = 'ROOM_ERRORED';\n\n// Reducer\nconst initialState = {\n  loading: false,\n  error: false,\n  list: [],\n};\n\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case ROOM_REQUESTED:\n      return {\n        loading: true,\n        error: false,\n        list: [],\n      };\n    case ROOM_LOADED:\n      return {\n        loading: false,\n        error: false,\n        list: action.payload.map(room => {\n          return {id: room.id, name: room.name}\n        }),\n      };\n    case ROOM_ERRORED:\n      return {\n        loading: false,\n        error: true,\n        list: [],\n    };\n\n    default: return state;\n  }\n}\n\n// Action Creators\nexport function roomsRequested() {\n  return { type: ROOM_REQUESTED };\n}\nexport function roomsLoaded(payload) {\n  return { type: ROOM_LOADED, payload }\n}\nexport function roomsErrored(e) {\n  return { type: ROOM_ERRORED, payload: e };\n}\n\n// Side effects\nexport function* saga() {\n  yield takeEvery(ROOM_REQUESTED, roomRequestSaga);\n}\n\nfunction* roomRequestSaga() {\n  try {\n    const payload = yield call(getJeedomRooms);\n    yield put(roomsLoaded(payload));\n  } catch (e) {\n    yield put(roomsErrored(e));\n  }\n}","import { takeEvery, call, put } from 'redux-saga/effects';\nimport { getJeedomEquipment } from '../utils/jeedom';\nimport { getStorageSettings } from '../utils/storage';\n\n// Actions\nexport const CAMERA_IMAGE_REQUESTED = 'CAMERA_IMAGE_REQUESTED';\nexport const CAMERA_IMAGE_LOADED = 'CAMERA_IMAGE_LOADED';\nexport const CAMERA_IMAGE_ERRORED = 'CAMERA_IMAGE_ERRORED';\n\n// Reducer\nconst initialState = {};\n\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case CAMERA_IMAGE_LOADED:\n      const cameraId = action.payload.cameraId;\n      const imageUrl = action.payload.imageUrl;\n\n      if (!cameraId || !imageUrl) {\n        return { ...state };\n      }\n\n      return {\n        ...state,\n        [cameraId]: imageUrl,\n      };\n\n    default: return state;\n  }\n}\n\n// Action Creators\nexport function cameraImageRequested(cameraId) {\n  return { type: CAMERA_IMAGE_REQUESTED, cameraId: cameraId}\n}\nexport function cameraImageLoaded(cameraId, imageUrl) {\n  return { type: CAMERA_IMAGE_LOADED, payload: { cameraId, imageUrl } }\n}\nexport function cameraImageErrored(e) {\n  return { type: CAMERA_IMAGE_ERRORED, error: e };\n}\n\n// Side effects\nexport function* saga() {\n  yield takeEvery(CAMERA_IMAGE_REQUESTED, cameraImageRequestSaga);\n}\n\nexport function* cameraImageRequestSaga(action) {\n  try {\n    const cameraId = action.cameraId;\n\n    const settings = yield call(getStorageSettings);\n    const equipment = yield call(getJeedomEquipment, cameraId);\n\n    const cameraUrl = equipment.cmds.find(el => (\n      el.generic_type === 'CAMERA_URL'\n    ));\n    \n    if (cameraUrl === undefined) {\n      throw new TypeError('Camera not detected');\n    }\n\n    yield put(cameraImageLoaded(cameraId, settings.url + cameraUrl.currentValue));\n  } catch (e) {\n    yield put(cameraImageErrored(e));\n  }\n}\n","import { takeEvery, call, put, putResolve, delay } from 'redux-saga/effects';\nimport { getJeedomCommand, getJeedomCommandHistory, execJeedomCmd } from '../utils/jeedom';\nimport { DateTime } from 'luxon';\nimport { showErrorSnackbar } from './snackbar';\n\nexport const DOOR_HISTORY_DEFAULT_DAYS_NUMBER = 7;\nexport const REFRESH_DELAY = 1000 * 1;\nexport const SNACKBAR_ERROR = \"Erreur lors l'ouverture / fermeture de la porte\";\n\n// Actions\nexport const DOOR_STATUS_WITH_HISTORY_REQUESTED = 'DOOR_STATUS_WITH_HISTORY_REQUESTED';\nexport const DOOR_STATUS_REQUESTED = 'DOOR_STATUS_REQUESTED';\nexport const DOOR_STATUS_LOADED = 'DOOR_STATUS_LOADED';\nexport const DOOR_STATUS_ERRORED = 'DOOR_STATUS_ERRORED';\nexport const DOOR_HISTORY_REQUESTED = 'DOOR_HISTORY_REQUESTED';\nexport const DOOR_HISTORY_LOADED = 'DOOR_HISTORY_LOADED';\nexport const DOOR_HISTORY_ERRORED = 'DOOR_HISTORY_ERRORED';\nexport const DOOR_HISTORY_SHOW = 'DOOR_HISTORY_SHOW';\nexport const DOOR_HISTORY_HIDE = 'DOOR_HISTORY_HIDE';\nexport const DOOR_TRIGGER_REQUESTED = 'DOOR_TRIGGER_REQUESTED';\nexport const DOOR_TRIGGER_ERRORED = 'DOOR_TRIGGER_ERRORED';\nexport const DOOR_TRIGGER_SUCCEEDED = 'DOOR_TRIGGER_SUCCEEDED';\n\n// Reducer\nconst initialState = {\n};\n\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case DOOR_STATUS_REQUESTED:\n    case DOOR_TRIGGER_REQUESTED:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          loading: true,\n        }\n      };\n    \n    case DOOR_STATUS_ERRORED:\n    case DOOR_TRIGGER_ERRORED:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          loading: false,\n          error: true,\n        }\n      }\n\n    case DOOR_TRIGGER_SUCCEEDED:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          loading: false,\n          error: false,\n        }\n      }\n\n    case DOOR_STATUS_LOADED:\n      const statusPayload = action.payload;\n\n      let label = statusPayload.name;\n      let singularComplement = 'de la';\n      if (statusPayload.display.parameters\n        && statusPayload.display.parameters.label\n        && statusPayload.display.parameters.singularComplement) {\n        label = statusPayload.display.parameters.label;\n        singularComplement = statusPayload.display.parameters.singularComplement;\n      }\n\n      return {\n        ...state,\n        [statusPayload.id]: {\n          id: statusPayload.id,\n          name: statusPayload.name,\n          order: statusPayload.order,\n          open: statusPayload.currentValue === 0 ? false : true,\n          label: label,\n          singularComplement: singularComplement,\n          loading: false,\n          error: false,\n        }\n      };\n\n      case DOOR_HISTORY_REQUESTED:\n        return {\n          ...state,\n          [action.payload.id]: {\n            ...state[action.payload.id],\n            loading: true,\n            error: false,\n          }\n        };\n      \n      case DOOR_HISTORY_ERRORED:\n          return {\n            ...state,\n            [action.payload.id]: {\n              ...state[action.payload.id],\n              loading: false,\n              error: true,\n            }\n          };\n\n      case DOOR_HISTORY_LOADED:\n        const history = action.payload.history.map(event => ({\n          datetime: DateTime.fromFormat(event.datetime, 'yyyy-MM-dd TT'),\n          open: event.value === '0' ? false : true,\n        })).sort((a, b) => b.datetime.diff(a.datetime));\n\n        return {\n          ...state,\n          [action.payload.id]: {\n            ...state[action.payload.id],\n            history: history,\n          }\n        }\n      \n      case DOOR_HISTORY_SHOW:\n        return {\n          ...state,\n          [action.payload.id]: {\n            ...state[action.payload.id],\n            showHistory: true,\n          }\n        };\n\n      case DOOR_HISTORY_HIDE:\n        return {\n          ...state,\n          [action.payload.id]: {\n            ...state[action.payload.id],\n            showHistory: false,\n          }\n        };\n\n    default: return state;\n  }\n}\n\n// Action Creators\nexport function doorStatusWithHistoryRequested(payload) {\n  return {\n    type: DOOR_STATUS_WITH_HISTORY_REQUESTED,\n    payload: {\n      id: payload.id,\n      days: payload.days ? payload.days : DOOR_HISTORY_DEFAULT_DAYS_NUMBER,\n    }\n  }\n}\nexport function doorStatusRequested(payload) {\n  return { type: DOOR_STATUS_REQUESTED, payload: payload }\n}\nexport function doorStatusLoaded(payload) {\n  return { type: DOOR_STATUS_LOADED, payload: payload }\n}\nexport function doorStatusErrored(payload) {\n  return { type: DOOR_STATUS_ERRORED, payload: payload }\n}\nexport function doorHistoryRequested(payload) {\n  return {\n    type: DOOR_HISTORY_REQUESTED,\n    payload: {\n      id: payload.id,\n      days: payload.days ? payload.days : DOOR_HISTORY_DEFAULT_DAYS_NUMBER,\n    }\n  }\n}\nexport function doorHistoryLoaded(payload) {\n  return { type: DOOR_HISTORY_LOADED, payload: payload }\n}\nexport function doorHistoryErrored(payload) {\n  return { type: DOOR_HISTORY_ERRORED, payload: payload }\n}\nexport function doorHistoryShow(id) {\n  return { type: DOOR_HISTORY_SHOW, payload: { id: id } }\n}\nexport function doorHistoryHide(id) {\n  return { type: DOOR_HISTORY_HIDE, payload: { id: id } }\n}\nexport function doorTriggerRequested({id, cmd}) {\n  return { type: DOOR_TRIGGER_REQUESTED, payload: {id, cmd}}\n}\nexport function doorTriggerErrored({id, cmd, error}) {\n  return { type: DOOR_TRIGGER_ERRORED, payload: {id, cmd, error}}\n}\nexport function doorTriggerSucceeded({id, cmd}) {\n  return { type: DOOR_TRIGGER_SUCCEEDED, payload: {id, cmd}}\n}\n\n// Side effects\nexport function* saga() {\n  yield takeEvery(DOOR_STATUS_WITH_HISTORY_REQUESTED, doorStatusWithHistoryRequestSaga);\n  yield takeEvery(DOOR_STATUS_REQUESTED, doorStatusRequestSaga);\n  yield takeEvery(DOOR_HISTORY_REQUESTED, doorHistoryRequestSaga);\n  yield takeEvery(DOOR_TRIGGER_REQUESTED, doorTriggerRequestSaga);\n}\n\nfunction* doorStatusWithHistoryRequestSaga(action) {\n  yield putResolve(doorStatusRequested(action.payload));\n  yield putResolve(doorHistoryRequested(action.payload));\n}\n\nfunction* doorStatusRequestSaga(action) {\n  try {\n    const command = yield call(getJeedomCommand, action.payload.id);\n    yield put(doorStatusLoaded(command));\n  } catch (e) {\n    yield put(doorStatusErrored({\n      id: action.payload.id,\n      error: e,\n    }));\n  }\n}\n\nfunction* doorHistoryRequestSaga(action) {\n  try {\n    const cmd = action.payload.id;\n    const startTime = DateTime.local().minus({days: action.payload.days}).toFormat('yyyy-LL-dd HH:mm:ss');\n\n    const history = yield call(getJeedomCommandHistory, { cmd, startTime });\n    const historyPayload = {\n      id: action.payload.id,\n      history: history,\n    }\n    yield put(doorHistoryLoaded(historyPayload));\n  } catch (e) {\n    yield put(doorHistoryErrored({\n      id: action.payload.id,\n      error: e,\n    }));\n  }\n}\n\nexport function* doorTriggerRequestSaga(action) {\n  try {\n    console.log(action);\n    yield call(execJeedomCmd, action.payload.cmd);\n    yield delay(REFRESH_DELAY);\n    yield put(doorTriggerSucceeded({\n      id: action.payload.id,\n      cmd: action.payload.cmd,\n    }));\n  } catch (e) {\n    yield put(doorTriggerErrored({\n      id: action.payload.id,\n      cmd: action.payload.cmd,\n      error: e,\n    }));\n    yield put(showErrorSnackbar(SNACKBAR_ERROR));\n  } finally {\n    yield put(doorStatusRequested({id: action.payload.id}));\n  }\n}","import { takeEvery, takeLeading, call, put, delay } from 'redux-saga/effects';\nimport { getJeedomEquipment, execJeedomCmd } from '../utils/jeedom';\nimport { showErrorSnackbar } from './snackbar';\n\nexport const CHANGE_MODE_REFRESH_DELAY = 1000;\nexport const CHANGE_MODE_ERROR_SNACKBAR = \"Erreur lors du changement de mode du thermostat !\"\n\n// Actions\nexport const THERMOSTAT_REQUESTED = 'THERMOSTAT_REQUESTED';\nexport const THERMOSTAT_LOADED = 'THERMOSTAT_LOADED';\nexport const THERMOSTAT_ERRORED = 'THERMOSTAT_ERRORED';\nexport const THERMOSTAT_MODE_CHANGE_REQUESTED = 'THERMOSTAT_MODE_CHANGE_REQUESTED';\nexport const THERMOSTAT_MODE_CHANGE_ERRORED = 'THERMOSTAT_MODE_CHANGE_ERRORED';\nexport const THERMOSTAT_MODE_CHANGE_SUCCEEDED = 'THERMOSTAT_MODE_CHANGE_SUCCEEDED';\n\n// Reducer\nconst initialState = {};\n\nexport default function reducer(state = initialState, action = {}) {\n  let id;\n  switch (action.type) {\n    case THERMOSTAT_REQUESTED:\n      if (!action.id) {\n        return { ...state };\n      }\n\n      return {\n        ...state,\n        [action.id]: {\n          ...state[action.id],\n          id: action.id,\n          loading: true,\n          error: false,\n        },\n      };\n\n    case THERMOSTAT_LOADED:\n      id = action.payload.id;\n\n      if (!id || !action.payload.thermostat) {\n        return { ...state };\n      }\n\n      let loadedThermostat = action.payload.thermostat;\n      loadedThermostat.loading = false;\n      loadedThermostat.error = false;\n      return {\n        ...state,\n        [id]: loadedThermostat,\n      };\n\n    case THERMOSTAT_ERRORED:\n      id = action.payload.id;\n\n      if (!id) {\n        return { ...state };\n      }\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          id: id,\n          loading: false,\n          error: true,\n        },\n      };\n    \n    case THERMOSTAT_MODE_CHANGE_REQUESTED:\n      id = action.payload.id;\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          loading: true,\n          error: false,\n        },\n      };\n    \n    case THERMOSTAT_MODE_CHANGE_ERRORED:\n      id = action.payload.id;\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          loading: false,\n          error: true,\n        },\n      };\n    \n    case THERMOSTAT_MODE_CHANGE_SUCCEEDED:\n      id = action.payload.id;\n\n      return {\n        ...state,\n        [id]: {\n          ...state[id],\n          loading: false,\n          error: false,\n        },\n      };\n\n    default: return state;\n  }\n}\n\n// Action Creators\nexport function thermostatRequested(id) {\n  return { type: THERMOSTAT_REQUESTED, id}\n}\nexport function thermostatLoaded(payload) {\n  return {\n    type: THERMOSTAT_LOADED,\n    payload: { \n      id: payload.id,\n      thermostat: payload.thermostat\n    }\n  }\n}\nexport function thermostatErrored(payload) {\n  return {\n    type: THERMOSTAT_ERRORED,\n    payload: {\n      id: payload.id,\n      error: payload.error,\n    }\n  };\n}\nexport function thermostatModeChangeRequested(payload) {\n  return {\n    type: THERMOSTAT_MODE_CHANGE_REQUESTED,\n    payload: {\n      id: payload.id,\n      cmd: payload.cmd,\n    }\n  };\n}\nexport function thermostatModeChangeErrored(payload) {\n  return {\n    type: THERMOSTAT_MODE_CHANGE_ERRORED,\n    payload: {\n      id: payload.id,\n      cmd: payload.cmd,\n      error: payload.error,\n    }\n  };\n}\nexport function thermostatModeChangeSucceded(payload) {\n  return {\n    type: THERMOSTAT_MODE_CHANGE_SUCCEEDED,\n    payload: {\n      id: payload.id,\n      cmd: payload.cmd,\n    }\n  };\n}\n\n// Side effects\nexport function* saga() {\n  yield takeEvery(THERMOSTAT_REQUESTED, thermostatRequestSaga);\n  yield takeLeading(THERMOSTAT_MODE_CHANGE_REQUESTED, thermostatModeChangeRequestSaga);\n}\n\nexport function* thermostatRequestSaga(action) {\n  const thermostatId = action.id;\n\n  try {\n    const equipment = yield call(getJeedomEquipment, thermostatId);\n\n    // Name\n    const thermostatName = equipment.name;\n    // Modes\n    const availableModes = equipment.cmds.filter(el => (\n      el.generic_type === 'THERMOSTAT_SET_MODE' && el.isVisible === '1'\n    ));\n    let thermostatModes = [];\n    availableModes.forEach(mode => {\n      thermostatModes.push({\n        id: mode.id,\n        name: mode.name,\n        order: mode.order,\n      })\n    });\n    // Current mode\n    const currentMode = equipment.cmds.find(el => (\n      el.logicalId === 'mode'\n    ));\n    const thermostatCurrentMode = thermostatModes.find(mode => mode.name === currentMode.currentValue);\n    // Power\n    const thermostatPower = equipment.cmds.find(el => (\n      el.logicalId === 'power'\n    ));\n    // Temeprature\n    const thermostatTemperature = equipment.cmds.find(el => (\n      el.logicalId === 'temperature'\n    ));\n    // SetPoint\n    const thermostatSetPoint = equipment.cmds.find(el => (\n      el.logicalId === 'order'\n    ));\n\n    if (!thermostatName || !thermostatPower || !thermostatTemperature || !thermostatSetPoint) {\n      throw new TypeError('Error when parsing thermostat');\n    }\n\n    const thermostat = {\n      id: thermostatId,\n      name: thermostatName,\n      modes: thermostatModes,\n      currentMode: thermostatCurrentMode,\n      power: thermostatPower.currentValue,\n      temperature: thermostatTemperature.currentValue,\n      setpoint: thermostatSetPoint.currentValue,\n    }\n\n    const payload = {\n      id: thermostatId,\n      thermostat: thermostat,\n    }\n    yield put(thermostatLoaded(payload));\n  } catch (e) {\n    yield put(thermostatErrored({\n      id: thermostatId,\n      error: e,\n    }));\n  }\n}\n\nexport function* thermostatModeChangeRequestSaga(action) {\n  const { id, cmd } = action.payload;\n\n  try {\n    yield call(execJeedomCmd, cmd);\n    yield delay(CHANGE_MODE_REFRESH_DELAY);\n  } catch (error) {\n    yield put(thermostatModeChangeErrored({id, cmd, error }));\n    yield put(showErrorSnackbar(CHANGE_MODE_ERROR_SNACKBAR));\n  } finally {\n    yield put(thermostatRequested(id));\n  }\n}\n","import { takeEvery, call, put, select } from 'redux-saga/effects';\nimport { getJeedomEquipment, getJeedomCommandHistory } from '../utils/jeedom';\nimport { DateTime } from 'luxon';\n\nconst GENERIC_TYPE = {\n  'temperature': 'TEMPERATURE',\n  'humidity': 'HUMIDITY',\n  'co2': 'CO2',\n  'brightness': 'BRIGHTNESS',\n  'noise': 'NOISE',\n  'presure': 'PRESSURE',\n  'rainCurrent': 'RAIN_CURRENT',\n  'rainTotal': 'RAIN_TOTAL',\n  'windSpeed': 'WIND_SPEED',\n  'windDirection': 'WIND_DIRECTION',\n}\n\nexport const WEATHER_HISTORY_DEFAULT_DAYS_NUMBER = 7;\n\n// Actions\nexport const WEATHER_REQUESTED = 'WEATHER_REQUESTED';\nexport const WEATHER_LOADED = 'WEATHER_LOADED';\nexport const WEATHER_ERRORED = 'WEATHER_ERRORED';\nexport const WEATHER_HISTORY_REQUESTED = 'WEATHER_HISTORY_REQUESTED';\nexport const WEATHER_HISTORY_LOADED = 'WEATHER_HISTORY_LOADED';\nexport const WEATHER_HISTORY_ERRORED = 'WEATHER_HISTORY_ERRORED';\nexport const WEATHER_HISTORY_SHOWN = 'WEATHER_HISTORY_SHOWN';\nexport const WEATHER_HISTORY_HIDED = 'WEATHER_HISTORY_HIDED';\n\n// Reducer\nconst initialState = {};\n\nexport default function reducer(state = initialState, action = {}) {\n  let id, weatherId, weatherItem, weatherState;\n  switch (action.type) {\n    case WEATHER_REQUESTED:\n      if (!action.id) {\n        return { ...state };\n      }\n\n      return {\n        ...state,\n        [action.id]: {\n          weather: {},\n          ...state[action.id],\n          id: action.id,\n          loading: true,\n          error: false,\n        },\n      };\n\n    case WEATHER_LOADED:\n      id = action.payload.id;\n\n      if (!id || !action.payload.weather) {\n        return { ...state };\n      }\n\n      let loadedWeather = action.payload.weather;\n      loadedWeather.loading = false;\n      loadedWeather.error = false;\n      return {\n        ...state,\n        [id]: loadedWeather,\n      };\n\n    case WEATHER_ERRORED:\n      id = action.payload.id;\n\n      if (!id) {\n        return { ...state };\n      }\n\n      return {\n        ...state,\n        [id]: {\n          weather: {},\n          ...state[id],\n          id: id,\n          loading: false,\n          error: true,\n        },\n      };\n    \n    case WEATHER_HISTORY_REQUESTED:\n      weatherId = action.payload.id;\n      weatherItem = action.payload.item;\n\n      weatherState = { ...state[weatherId] };\n      weatherState.weather[weatherItem].history = {\n        loading: true,\n        error: false,\n        show: weatherState.weather[weatherItem].history ? weatherState.weather[weatherItem].history.show : false,\n        data: weatherState.weather[weatherItem].history ? weatherState.weather[weatherItem].history.data : [],\n      }\n\n      return {\n        ...state,\n        [weatherId]: weatherState,\n      };\n    \n    case WEATHER_HISTORY_ERRORED:\n      weatherId = action.payload.id;\n      weatherItem = action.payload.item;\n\n      weatherState = { ...state[weatherId] };\n      weatherState.weather[weatherItem].history = {\n        ...weatherState.weather[weatherItem].history,\n        loading: false,\n        error: true,\n      }\n\n      return {\n        ...state,\n        [weatherId]: weatherState,\n      };\n    \n    case WEATHER_HISTORY_LOADED:\n      let historyData = [];\n\n      action.payload.history.forEach(item => {\n        historyData.push({\n          datetime: DateTime.fromFormat(item.datetime, 'yyyy-LL-dd HH:mm:ss'),\n          value: item.value,\n        })\n      });\n\n      weatherId = action.payload.id;\n      weatherItem = action.payload.item;\n\n      weatherState = { ...state[weatherId] };\n      weatherState.weather[weatherItem].history = {\n        ...weatherState.weather[weatherItem].history,\n        loading: false,\n        error: false,\n        data: historyData,\n      }\n\n      return {\n        ...state,\n        [weatherId]: weatherState,\n      };\n    \n    case WEATHER_HISTORY_SHOWN:\n      weatherId = action.payload.id;\n      weatherItem = action.payload.item;\n\n      weatherState = { ...state[weatherId] };\n      weatherState.weather[weatherItem].history = {\n        ...weatherState.weather[weatherItem].history,\n        show: true,\n      }\n\n      return {\n        ...state,\n        [weatherId]: weatherState,\n      };\n    \n    case WEATHER_HISTORY_HIDED:\n      weatherId = action.payload.id;\n      weatherItem = action.payload.item;\n\n      weatherState = { ...state[weatherId] };\n      weatherState.weather[weatherItem].history = {\n        ...weatherState.weather[weatherItem].history,\n        show: false,\n      }\n\n      return {\n        ...state,\n        [weatherId]: weatherState,\n      };\n\n    default: return state;\n  }\n}\n\n// Action Creators\nexport function weatherRequested(id) {\n  return { type: WEATHER_REQUESTED, id}\n}\nexport function weatherLoaded(payload) {\n  return {\n    type: WEATHER_LOADED,\n    payload: { \n      id: payload.id,\n      weather: payload.weather\n    }\n  }\n}\nexport function weatherErrored(payload) {\n  return {\n    type: WEATHER_ERRORED,\n    payload: {\n      id: payload.id,\n      error: payload.error,\n    }\n  };\n}\nexport function weatherHistoryRequested(payload) {\n  return {\n    type: WEATHER_HISTORY_REQUESTED,\n    payload: {\n      id: payload.id,\n      item: payload.item,\n      days: payload.days ? payload.days : WEATHER_HISTORY_DEFAULT_DAYS_NUMBER,\n    }\n  }\n}\nexport function weatherHistoryLoaded(payload) {\n  return {\n    type: WEATHER_HISTORY_LOADED,\n    payload: { \n      id: payload.id,\n      item: payload.item,\n      history: payload.history\n    }\n  }\n}\nexport function weatherHistoryErrored(payload) {\n  return {\n    type: WEATHER_HISTORY_ERRORED,\n    payload: {\n      id: payload.id,\n      item: payload.item,\n      error: payload.error,\n    }\n  };\n}\nexport function weatherHistoryShow(payload) {\n  return {\n    type: WEATHER_HISTORY_SHOWN,\n    payload: {\n      id: payload.id,\n      item: payload.item,\n    }\n  };\n}\nexport function weatherHistoryHide(payload) {\n  return {\n    type: WEATHER_HISTORY_HIDED,\n    payload: {\n      id: payload.id,\n      item: payload.item,\n    }\n  };\n}\n\n// Side effects\nexport function* saga() {\n  yield takeEvery(WEATHER_REQUESTED, weatherRequestSaga);\n  yield takeEvery(WEATHER_HISTORY_REQUESTED, weatherHistoryRequestSaga);\n  yield takeEvery(WEATHER_HISTORY_SHOWN, weatherHistoryShowSaga);\n}\n\nexport function* weatherRequestSaga(action) {\n  try {\n    const equipment = yield call(getJeedomEquipment, action.id);\n\n    let weatherItems = {};\n    Object.keys(GENERIC_TYPE).forEach((key) => {\n      let item = equipment.cmds.find(el => (\n        el.generic_type === GENERIC_TYPE[key] && el.isVisible === '1'\n      ));\n\n      if (item) {\n        weatherItems[key] = {\n          id: item.id,\n          value: item.currentValue,\n          unit: item.unite,\n          isHistorized: item.isHistorized === '1',\n          history: {\n            loading: false,\n            error: false,\n            show: false,\n            data: [],\n          }\n        }\n      }\n    });\n    \n    const weather = {\n      id: action.id,\n      weather: weatherItems,\n    }\n\n    const payload = {\n      id: action.id,\n      weather,\n    }\n    yield put(weatherLoaded(payload));\n  } catch (error) {\n    yield put(weatherErrored({\n      id: action.id,\n      error,\n    }));\n  }\n}\n\nexport const getWeatherItemCommandId = (state, { id, item }) => state.weather[id].weather[item].id;\n\nexport function* weatherHistoryRequestSaga(action) {\n  try {\n    const id = action.payload.id;\n    const item = action.payload.item;\n\n    const startTime = DateTime.local().minus({days: action.payload.days}).toFormat('yyyy-LL-dd HH:mm:ss');\n\n    const cmd = yield select(getWeatherItemCommandId, { id, item });\n    const history = yield call(getJeedomCommandHistory, { cmd, startTime });\n\n    const payload = {\n      id,\n      item,\n      history,\n    }\n    yield put(weatherHistoryLoaded(payload));\n  } catch (error) {\n    yield put(weatherHistoryErrored({\n      id: action.payload.id,\n      item: action.payload.item,\n      error,\n    }));\n  }\n}\n\nexport function* weatherHistoryShowSaga(action) {\n  yield put(weatherHistoryRequested({\n    id: action.payload.id,\n    item: action.payload.item,\n    days: action.payload.days,\n  }));\n}\n","import { createStore, applyMiddleware, compose, combineReducers  } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { spawn } from 'redux-saga/effects';\n\nimport launchScreen, { saga as launchScreenSaga } from './modules/launchScreen';\nimport settingsForm, { saga as settingsFormSaga } from './modules/settingsForm';\nimport settings, { saga as settingsSaga }  from './modules/settings';\nimport snackbar, { saga as snackBarSaga } from './modules/snackbar';\nimport summary, { saga as summarySaga } from './modules/summary';\nimport room, { saga as roomSaga } from './modules/room';\nimport camera, { saga as cameraSaga } from './modules/camera';\nimport light, { saga as lightSaga } from './modules/light';\nimport door, { saga as doorSaga } from './modules/door';\nimport mode, { saga as modeSaga } from './modules/mode';\nimport thermostat, { saga as thermostatSaga } from './modules/thermostat';\nimport weather, { saga as weatherSaga } from './modules/weather';\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst storeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst rootReducer = combineReducers({\n  launchScreen,\n  settingsForm,\n  settings,\n  snackbar,\n  summary,\n  room,\n  camera,\n  light,\n  door,\n  mode,\n  thermostat,\n  weather,\n});\n\nfunction* rootSaga() {\n  yield spawn(launchScreenSaga);\n  yield spawn(settingsFormSaga);\n  yield spawn(settingsSaga);\n  yield spawn(snackBarSaga);\n  yield spawn(summarySaga);\n  yield spawn(roomSaga);\n  yield spawn(cameraSaga);\n  yield spawn(lightSaga);\n  yield spawn(doorSaga);\n  yield spawn(modeSaga);\n  yield spawn(thermostatSaga);\n  yield spawn(weatherSaga);\n}\n\nconst store = createStore(\n  rootReducer,\n  storeEnhancers(\n    applyMiddleware(sagaMiddleware)\n  )\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { saveSettingsForm } from '../../redux/modules/settingsForm';\nimport { getStorageSettings } from '../../redux/utils/storage';\n\nexport class SettingsForm extends Component {\n  constructor() {\n    super();\n\n    this.state = {url: '', apikey: '' };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    getStorageSettings().then((settings) => {\n      this.setState({\n        url: settings.url,\n        apikey: settings.apikey,\n      })\n    });\n  }\n\n  handleChange(event) {\n    this.setState({ [event.target.id]: event.target.value });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.props.saveSettingsForm({\n      url: this.state.url,\n      apikey: this.state.apikey,\n      onSuccess: this.props.onSuccess,\n    });\n  }\n\n  render() {\n    const errorCheck = this.props.checkFailed ?\n      <div className=\"alert alert-danger\" role=\"alert\">URL ou Clef d'API invalide !</div>\n      : '';\n    const errorSave = this.props.saveFailed ?\n      <div className=\"alert alert-danger\" role=\"alert\">Erreur lors de la sauvegarde !</div>\n      : '';\n    \n    const button = this.props.saveRequested ?\n      <button type=\"button\" className=\"btn btn-secondary btn-lg btn-block\" disabled>Enregistrement</button>\n      : <button type=\"submit\" className=\"btn btn-primary btn-lg btn-block\">Sauvegarder</button>\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"url\">Jeedom URL</label>\n          <input type=\"text\" className=\"form-control\" id=\"url\" value={this.state.url} onChange={this.handleChange} />\n          <small className=\"form-text text-muted\">URL publique d'accès à Jeedom.</small>\n        </div>\n        \n        <div className=\"form-group\">\n          <label htmlFor=\"apikey\">Clef d'API Jeedom</label>\n          <input type=\"text\" className=\"form-control\" id=\"apikey\" value={this.state.apikey} onChange={this.handleChange} />\n          <small className=\"form-text text-muted\">Configuration > API > Clef API</small>\n        </div>\n\n        {errorCheck}\n        {errorSave}\n\n        {button}\n      </form>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const { settingsForm } = state;\n\n  return settingsForm;\n}\n\nexport default connect(\n  mapStateToProps,\n  { saveSettingsForm },\n)(SettingsForm);\n","import React from 'react';\nimport SettingsForm from '../../containers/SettingsForm/SettingsForm';\n\nimport loaderSvg from './loader.svg';\nimport './LaunchScreen.scss';\n\nfunction LaunchScreen(props) {\n  const loader = !props.showSetup ?\n      <img className=\"loader\" src={loaderSvg} width=\"50\" alt=\"\" />\n      : '';\n    \n  const settingsForm = props.showSetup ?\n    <SettingsForm onSuccess=\"props.onSuccess\" />\n    : '';\n\n  return (\n    <div className=\"launchScreen position-fixed\">\n      <div className=\"container fixed-bottom\">\n        <h1>Bienvenue,</h1>\n        { loader }\n        { settingsForm }\n      </div>\n    </div>\n  )\n};\n\nexport default LaunchScreen;\n","import React from 'react';\nimport './Pill.scss';\n\nfunction Pill(props) {\n  let pillImage = '';\n\n  if (props.image) {\n    const pillImgStyle = {\n      backgroundImage: 'url(' + props.image + ')'\n    };\n\n    let imgClassName = ['pill-img'];\n    imgClassName.push(props.text !== undefined ?\n      'pill-img-with-text' : 'pill-img-no-text'\n    );\n\n   pillImage = <span className={imgClassName.join(' ')} style={pillImgStyle}>&nbsp;</span>;\n  }\n  \n  return (\n    <span>\n      <span className=\"pill\">\n        {pillImage}\n        {props.text}\n      </span>&nbsp;\n    </span>\n  );\n}\n\nexport default Pill;\n","import React from 'react';\nimport Pill from '../Pill/Pill';\nimport imgSun from './sun.svg';\nimport imgRain from './rain.svg';\nimport imgLight from './light.svg';\nimport imgUser from './user.svg';\nimport imgMail from './mail.svg';\n\nfunction Summary(props) {\n  const outsideImage = props.summary.outsideRain > 0 ? imgRain : imgSun;\n  const light = props.summary.light ? <Pill image={imgLight} /> : '';\n  const mail = props.summary.mail ? <Pill image={imgMail} /> : '';\n  \n  const presence = Object.keys(props.summary.presence).reduce((total, person) => (\n    total + (props.summary.presence[person] === true ? 1 : 0)\n  ), 0)\n\n  return (\n    <h5 className=\"house-summary\">\n      <Pill image={imgUser} text={presence} />\n      <Pill text={props.summary.homeTemperature + '°'} />\n      <Pill image={outsideImage} text={props.summary.outsideTemperature + '°'} />\n      {light}\n      {mail}\n    </h5>\n  );\n}\n\nexport default Summary;","import React from 'react';\nimport './Header.scss';\nimport Summary from '../Summary/Summary';\n\nfunction Header(props) {\n  const collapsedClassName = props.collapsed ? ' app-header-collapsed' : '';\n\n  return (\n    <header className={\"app-header\" + collapsedClassName}>\n      <div className=\"container\">\n        <a href=\"#Settings\" className=\"settings-show text-hide\" onClick={props.onShowSettings}>Paramètres</a>\n\n        <h1>Salut,</h1>\n        <Summary summary={props.summary} />\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport './Card.scss';\n\nfunction Card(props) {\n  const cssClass = ['card'];\n  if (props.error) {\n    cssClass.push('border-danger');\n  }\n\n  const style = {\n    backgroundImage: 'url(' + props.backgroundUrl + ')',\n    backgroundSize: 'cover',\n  };\n\n  const imgTop = props.imgTop ?\n    <img className='card-img-top' src={props.imgTop} alt='' />\n    : '';\n  const imgBottom = props.imgBottom ?\n    <img className='card-img-top' src={props.imgBottom} alt='' />\n    : '';\n  \n  const overlay = props.overlay ? \n    <div className=\"card-img-overlay\"><p className=\"card-text text-center\">{props.overlay}</p></div>\n    : '';\n\n  const hasChildren = props.children ? 'has-children' : 'no-child';\n\n  return (\n    <div className={cssClass.join(' ')} style={style}>\n      {imgTop}\n      {overlay}\n      <div className=\"card-body\">\n        <h5 className={'card-title ' + hasChildren}>{props.title}</h5>\n        {props.children}\n      </div>\n      {imgBottom}\n    </div>\n  );\n}\n\nexport default Card;\n","import React, { Component } from 'react';\nimport Card from '../Card/Card';\n\nconst REFRESH_DELAY = 5 * 1000;\n\nexport class CardCamera extends Component {\n  constructor() {\n    super();\n    this.state = {\n      time: Date.now()\n    };\n    this.interval = undefined;\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => this.setState({ time: Date.now() }), REFRESH_DELAY);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    return (\n      <Card\n        title={this.props.title}\n        imgTop={this.props.cameraImage + '&time=' + this.state.time}\n        overlay={this.props.overlay}>\n        {this.props.children}\n      </Card>\n    )\n  }\n}\n\nexport default CardCamera;\n","import React, { Component } from 'react';\nimport './Backdrop.scss';\n\nexport class Backdrop extends Component {\n  constructor() {\n    super();\n    this.state = {\n      show: false\n    };\n    this.handleClose = this.handleClose.bind(this);\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.setState({show: true})\n    }, 1);\n  }\n\n  handleClose(event) {\n    event.preventDefault();\n    this.setState({show: false});\n    if (this.props.onClose) {\n      setTimeout(() => {\n        this.props.onClose();\n      }, 350);\n    }\n  }\n\n  render() {\n    const cssClass = this.state.show ? ' backdrop-show' : ' backdrop-hide';\n\n    return (\n      <div className={'backdrop settings-backdrop ' + cssClass}>\n        <div className=\"backdrop-background\" onClick={this.handleClose}></div>\n        <div className=\"backdrop-wrapper\">\n          <div className=\"container\">\n            <div className=\"row justify-content-center\">\n              <div className=\"col-12 col-lg-10 col-xl-9 backdrop-content\">\n                <h3>{this.props.title}</h3>\n                <a href=\"#App\" className=\"backdrop-close text-hide\" onClick={this.handleClose}>Fermer</a>\n                <hr/>\n                <div className=\"backdrop-content-scroll\">\n                  {this.props.children}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Backdrop;\n","import React from 'react';\n\nimport Backdrop from '../Backdrop/Backdrop';\n\nconst HISTORY_LENGTH = 20;\n\nfunction formatHistoryListItem(element, i) {\n  const badgeClassName = element.open ? 'badge-danger' : 'badge-success';\n\n  return (\n    <li className=\"list-group-item d-flex justify-content-between align-items-center\" key={i}>\n      {element.datetime.toFormat('dd/LL/yyyy HH:mm:ss')}\n      <span className={\"badge badge-pill \" + badgeClassName}>\n        {element.open ? 'Ouvert' : 'Fermé'}\n      </span>\n    </li>\n  );\n}\n\nfunction BackdropDoorHistory(props) {\n  if (!props.history) {\n    return '';\n  }\n\n  const historyList = props.history.slice(0, HISTORY_LENGTH).map(formatHistoryListItem);\n\n  return (\n    props.show ?\n      <Backdrop title={props.title} onClose={props.onClose}>\n        <ul className=\"list-group list-group-flush\">\n          {historyList}\n        </ul>\n      </Backdrop>\n    : ''\n  );\n}\n\nexport default BackdropDoorHistory;\n","export function formatDoorDate(object, door) {\n  if (!door) {\n    return object + ' est dans un état indéterminée';\n  }\n\n  const status = door.open ? 'ouvert' : 'fermé';\n\n  if (!door.history || door.history.length === 0) {\n    return object + ' est ' + status + ' depuis une période indéterminée';\n  }\n  \n  let duration;\n  let diff = door.history[0].datetime.diffNow().negate();\n  if (diff.toFormat('d') > 1) {\n    duration = diff.toFormat('d') +' jours';\n  } else if (diff.toFormat('d') > 0) {\n    duration = '1 jour';\n  } else if (diff.toFormat('h') > 1) {\n    duration = diff.toFormat('h') + ' heures';\n  } else if (diff.toFormat('h') > 0) {\n    duration = '1 heure';\n  } else if (diff.toFormat('m') > 1) {\n    duration = diff.toFormat('m') + ' minutes';\n  } else if (diff.toFormat('m') > 0) {\n    duration = '1 minute';\n  } else {\n    duration = \"moins d'une minute\";\n  }\n\n  return object + ' est ' + status + ' depuis ' + duration + '.';\n}","import React, { useState } from 'react';\nimport CardCamera from '../CardCamera/CardCamera';\nimport Backdrop from '../Backdrop/Backdrop';\nimport BackdropDoorHistory from '../BackdropDoorHistory/BackdropDoorHistory';\nimport { formatDoorDate } from '../utils';\n\nfunction CardCameraDoor(props) {\n  const status = formatDoorDate('Le garage', props.door);\n\n  const overlay = props.door && props.door.loading ? 'Chargement...' : '';\n\n  const [hasConfirmation, setShowConfirmation] = useState(false);\n  const hideConfirmation = () => setShowConfirmation(false);\n  const showConfirmation = () => setShowConfirmation(true);\n  const triggerDoor = () => {\n    props.onDoorTriggerClick({id: props.door.id, cmd: props.triggerCmd});\n    hideConfirmation();\n  }\n  let confirmationBackdrop = null;\n  if (hasConfirmation === true) {\n    confirmationBackdrop = (\n      <Backdrop title=\"Êtes vous sure ?\" onClose={hideConfirmation}>\n        <div className=\"text-center\">\n          <button type=\"button\" className=\"btn btn-light\" onClick={hideConfirmation}>Annuler</button>\n          <button type=\"button\" className=\"btn btn-primary\" onClick={triggerDoor}>Actionner</button>\n        </div>\n      </Backdrop>\n    )\n  }\n\n  let historyButton = '';\n  if (props.onHistoryClick) {\n    historyButton = <button className=\"btn btn-link\" onClick={() => props.onHistoryClick(props.door.id)}>Historique</button>\n  }\n\n  return (\n    <CardCamera\n      title={props.title}\n      cameraImage={props.cameraImage}\n      overlay={overlay}>\n      <p className=\"card-text\">{status}</p>\n      <div className=\"text-right\">\n        {historyButton}\n        <button className=\"btn btn-primary\" onClick={showConfirmation}>Actioner</button>\n      </div>\n\n      <BackdropDoorHistory\n        title=\"Historique\"\n        show={props.door && props.door.showHistory}\n        onClose={() => props.onHistoryBackdropClose(props.door.id)}\n        history={props.door && props.door.history ? props.door.history : null} />\n\n      {confirmationBackdrop}\n    </CardCamera>\n  );\n}\n\nexport default CardCameraDoor;\n","import React from 'react';\nimport Card from '../Card/Card';\nimport BackdropDoorHistory from '../BackdropDoorHistory/BackdropDoorHistory';\nimport { formatDoorDate } from '../utils';\n\nfunction CardDoor(props) {\n  const overlay = props.door && props.door.loading ? 'Chargement...' : '';\n  const status = formatDoorDate('La porte', props.door);\n\n  return (\n    <Card\n      title={props.title}\n      overlay={overlay}>\n      <p className=\"card-text\">{status}</p>\n      <div className=\"text-right\">\n        {props.onHistoryClick ? <button className=\"btn btn-link\" onClick={() => props.onHistoryClick(props.door.id)}>Historique</button> : ''}\n      </div>\n\n      <BackdropDoorHistory\n        title=\"Historique\"\n        show={props.door && props.door.showHistory}\n        onClose={() => props.onHistoryBackdropClose(props.door.id)}\n        history={props.door && props.door.history ? props.door.history : null} />\n    </Card>\n  );\n}\n\nexport default CardDoor;\n","import React from 'react';\nimport Card from '../Card/Card';\n\nfunction CardLights(props) {\n  const lightsOn = props.lights.lights.filter((light) => (light.value === 1));\n  \n  let button = null;\n  const offPayload = {\n    id: props.lights.id,\n    off_cmd_id: props.lights.off_cmd_id\n  }\n\n  let text = 'Le statut des lumières est indéterminé !';\n\n  if (lightsOn.length === 0) {\n    text = 'Toutes les lumières sont éteintes.';\n  }\n  if (lightsOn.length === 1) {\n    text = 'La lumière ' + lightsOn[0].singularComplement + ' ' + lightsOn[0].label + ' est allumée.';\n  }\n  if (lightsOn.length > 1) {\n    text = 'Les lumières ' + lightsOn.reduce((labels, item) => labels + item.label + ', ', '') + ' sont allumées.';\n  }\n  if (lightsOn.length > 0) {\n    button = (\n      <div className=\"text-right\">\n        <button className=\"btn btn-primary\" onClick={() => props.onOffClick(offPayload)}>Tout éteindre</button>\n      </div>\n    );\n  }\n\n  const overlay = props.loading ? 'Chargement...' : '';\n\n  if (props.lights.error) {\n    return (\n      <Card title={props.title} error overlay={overlay}>\n        <p className=\"card-text\">Oups une erreur est survenue dans la récupération de l'état des lumières !</p>\n      </Card>\n    )\n  }\n\n  return (\n    <Card title={props.title} overlay={overlay}>\n      <p className=\"card-text\">{text}</p>\n      {button}\n    </Card>\n  );\n}\n\nexport default CardLights;\n","import React from 'react';\nimport Card from '../Card/Card';\n\nfunction CardMode(props) {\n  if (!props.mode) {\n    return '';\n  }\n\n  const modes = props.mode.modes;\n  const currentModeName = props.mode.currentMode ? props.mode.currentMode.name : 'Indéterminé';\n\n  const onModeClickFactory = (equipmentId, cmdId) => (\n    (e) => {\n      e.preventDefault();\n      const payload = {\n        id: equipmentId,\n        cmd: cmdId,\n      };\n      props.onModeClick(payload);\n    }\n  );\n\n  let buttons = '';\n  if (modes) {\n    buttons = modes.map(mode => {\n      const disabled = mode.id === props.mode.currentMode.id;\n\n      return (<button\n        type=\"button\"\n        className=\"btn btn-primary\"\n        onClick={onModeClickFactory(props.mode.id, mode.id)}\n        disabled={disabled}\n        key={mode.id}>\n        {mode.name}\n      </button>)\n    });\n  }\n\n  const overlay = props.loading ? 'Chargement...' : '';\n\n  if (props.error) {\n    return (\n      <Card title={props.title} error overlay={overlay}>\n        <p className=\"card-text\">Oups une erreur est survenue dans la récupération des modes !</p>\n      </Card>\n    )\n  }\n\n  return (\n    <Card title={props.title} overlay={overlay}>\n      <p className=\"card-text\">Actuellement en mode <strong>{currentModeName}</strong>.</p>\n      <div className=\"text-center\">\n        <div className=\"btn-group\" role=\"group\" aria-label=\"Modes\">\n          {buttons}\n        </div>\n      </div>\n    </Card>\n  );\n}\n\nexport default CardMode;\n","import React from 'react';\nimport { Line } from 'react-chartjs-2';\n\nfunction ChartLine(props) {\n  if (!props.data) {\n    return '';\n  }\n\n  const labels = props.data.map(elem => (elem.datetime.toJSDate()));\n  const values = props.data.map(elem => (elem.value));\n\n  const data = {\n    labels: labels,\n    datasets: [\n      {\n        label: props.label,\n        backgroundColor: 'rgb(54, 162, 235)',\n        borderColor: 'rgb(54, 162, 235)',\n        fill: false,\n        data: values,\n      }\n    ]\n  };\n\n  const options = {\n    scales: {\n      xAxes: [{\n        type: 'time',\n        time: {\n          unit: 'day'\n        }\n      }]\n    },\n    elements: {\n      point:{\n        radius: 0\n      }\n    },\n    legend: {\n      display: false,\n    }\n  };\n\n  return <Line data={data} options={options} />\n}\n\nexport default ChartLine;\n","import React from 'react';\nimport Backdrop from '../Backdrop/Backdrop';\nimport ChartLine from '../Chart/ChartLine';\n\nconst HISTORY_LENGTH = 365;\n\nfunction BackdropWeatherHistory(props) {\n  if (!props.show) {\n    return '';\n  }\n\n  let content = '';\n  if (props.history.loading) {\n    content = <p>Chargement...</p>;\n  }\n  else {\n    content = <div className=\"backdrop-weather-row\">\n      <div className=\"chart-line col-12\">\n        <ChartLine\n          label={props.title}\n          data={props.history.data.slice(0, HISTORY_LENGTH)} />\n      </div>\n    </div>;\n  }\n\n  return (\n    <Backdrop title={props.title} onClose={props.onClose}>\n      {content}\n    </Backdrop>\n  );\n}\n\nexport default BackdropWeatherHistory;\n","import React from 'react';\nimport Card from '../Card/Card';\nimport BackdropWeatherHistory from '../BackdropWeatherHistory/BackdropWeatherHistory';\nimport './CardWeather.scss';\n\nconst WEATHER_ITEMS_NAME = {\n  'humidity': 'Humidité',\n  'co2': 'CO2',\n  'brightness': 'Luminosité',\n  'noise': 'Bruit',\n  'presure': 'Pression',\n  'rainCurrent': 'Pluie (h)',\n  'rainTotal': 'Pluie (j)',\n  'windSpeed': 'Vent',\n}\n\nconst formatWeatherItem = (name, item) => {\n  if (!item) {\n    return ''\n  }\n\n  return <li key={item.id}>{name} : {item.value}{item.unit}</li>\n}\n\nfunction generateHistoryClickHandler(payload) {\n  return (e) => {\n    e.preventDefault();\n    payload.handler({\n      id: payload.id,\n      item: payload.item,\n    })\n  }\n}\n\nfunction generateHistoryCloseHandler(payload) {\n  return () => {\n    payload.handler({\n      id: payload.id,\n      item: payload.item,\n    })\n  }\n}\n\nfunction CardWeather(props) {\n  if (!props.weather || props.weather.loading) {\n    return (\n      <Card title={props.title}>\n        Chargement...\n        {props.children}\n      </Card>\n    )\n  }\n\n  const weatherItems = props.weather.weather;\n  \n  let temperature = '';\n  if (weatherItems.temperature) {\n    temperature = (\n      <div className=\"col-5 order-12 text-center weather-item-temperature\">\n        <h2>{weatherItems.temperature.value}{weatherItems.temperature.unit}</h2>\n        <button\n          className=\"btn btn-light btn-sm\"\n          onClick={generateHistoryClickHandler({\n            id: props.weather.id,\n            item: 'temperature',\n            handler: props.onHistoryClick\n          })}>\n          Historique\n        </button>\n\n        <BackdropWeatherHistory\n          title=\"Température\"\n          show={weatherItems.temperature.history.show}\n          onClose={generateHistoryCloseHandler({\n            id: props.weather.id,\n            item: 'temperature',\n            handler: props.onHistoryClose\n          })}\n          history={weatherItems.temperature.history} />\n      </div>\n    )\n  }\n\n  let items = [];\n  Object.keys(WEATHER_ITEMS_NAME).forEach((item) => {\n    items.push(formatWeatherItem(WEATHER_ITEMS_NAME[item], weatherItems[item]))\n  })\n  if (items.length > 0) {\n    items = <ul className=\"col-7 order-1 list-unstyled\">{items}</ul>\n  }\n\n  return (\n    <Card title={props.title}>\n      <div className=\"row align-items-center\">\n        {temperature}\n        {items}\n      </div>\n      {props.children}\n    </Card>\n  );\n}\n\nexport default CardWeather;\n","import React, { Component } from 'react';\nimport CardWeather from '../CardWeather/CardWeather';\nimport Card from '../Card/Card';\nimport './CardThermostat.scss';\n\nexport class CardThermostat extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      showPower: true,\n      showButtons: false,\n      modeIndex: 0,\n    };\n    \n    this.handleChangeCancel = this.handleChangeCancel.bind(this);\n    this.handleChangeMode = this.handleChangeMode.bind(this);\n    this.handleOnChange = this.handleOnChange.bind(this);\n  }\n\n  defaultModeIndex() {\n    let modeIndex = 0;\n    if (this.props.thermostat && this.props.thermostat.modes) {\n      modeIndex = this.props.thermostat.modes.indexOf(this.props.thermostat.currentMode);\n    }\n\n    return modeIndex;\n  }\n\n  handleChangeMode(e) {\n    const mode = this.props.thermostat.modes[this.state.modeIndex];\n    this.props.onModeChange({\n      id: this.props.thermostat.id,\n      cmd: mode.id,\n    });\n  }\n\n  handleChangeCancel(e) {\n    this.setState({\n      modeIndex: this.defaultModeIndex(),\n      showPower: true,\n      showButtons: false,\n    })\n  }\n\n  handleOnChange(e) {\n    e.preventDefault();\n\n    const step = e.target.value;\n    this.setState({modeIndex: step});\n\n    if (this.props.thermostat.modes[step].id === this.props.thermostat.currentMode.id) {\n      this.setState({\n        showPower: true,\n        showButtons: false,\n      });\n    }\n    else {\n      this.setState({\n        showPower: false,\n        showButtons: true,\n      });\n    }\n  }\n\n  render() {\n    if (!this.props.thermostat) {\n      return '';\n    }\n\n    if (this.props.thermostat.loading || this.props.thermostat.modes === undefined) {\n      return <CardWeather\n          title={this.props.title}\n          weather={this.props.weather}>\n          <div>\n            <hr />\n            <p>Chargement...</p>\n          </div>\n        </CardWeather>\n    }\n\n    if (this.props.thermostat.error) {\n      return <Card title={this.props.title}>Erreur à gérer</Card>\n    }\n\n    const thermostatId = this.props.thermostat.id;\n\n    const modes = this.props.thermostat.modes;\n\n    const modeIndex = this.defaultModeIndex();\n\n    let datalistOptions = [];\n    const optionSize = Math.floor(12 / modes.length);\n    modes.forEach((mode, i) => {\n      let className = 'col-' + optionSize;\n      className += modeIndex === i ? ' text-primary' : '';\n      datalistOptions.push(<option className={className} value={mode.id} label={mode.name} key={mode.id} />);\n    })\n      \n    const power = this.props.thermostat.power > 0 ?\n      <small>Chauffe actuellement à {this.props.thermostat.power} %</small> : \n      <small>Ne chauffe pas actuellement</small>\n\n    const changeButtons = <div>\n      <button className=\"btn btn-sm btn-primary\" onClick={this.handleChangeMode}>Valider</button>\n      <button className=\"btn btn-sm\" onClick={this.handleChangeCancel}>Annuler</button>\n    </div>;\n\n    return (\n      <CardWeather\n        title={this.props.title}\n        weather={this.props.weather}\n        onHistoryClick={this.props.onHistoryClick}\n        onHistoryClose={this.props.onHistoryClose} >\n        <div>\n          <hr />\n          <div className=\"form-group text-center thermostat-form-group\">\n            <label htmlFor={'thermostat-'+ thermostatId}>Thermostat</label>\n            <datalist id={'thermostat-marks-'+ thermostatId} className=\"row text-center\">\n              {datalistOptions}\n            </datalist>\n            <input\n              type=\"range\"\n              className=\"custom-range\"\n              id={'thermostat-'+ thermostatId}\n              min=\"0\"\n              max={modes.length - 1}\n              step=\"1\"\n              defaultValue={modeIndex}\n              list={'thermostat-marks-'+ thermostatId}\n              onChange={this.handleOnChange} />\n          \n              <div className=\"form-text\">\n                {this.state.showPower ? power : ''}\n                {this.state.showButtons ? changeButtons : ''}\n              </div>\n          </div>\n        </div>\n      </CardWeather>\n    );\n  }\n}\n\nexport default CardThermostat;\n","export const CARD_TYPES = {\n  thermostat: 'THERMOSTAT',\n  mode: 'MODE',\n  camera: 'CAMERA',\n  weather: 'WEATHER',\n  door: 'DOOR',\n  cameraDoor: 'CAMERADOOR',\n  lights: 'LIGHTS',\n}\n\n// House\nexport const CARD_HOUSE_MODE = {\n  type: CARD_TYPES.mode,\n  title: 'Maison',\n  settings: {\n    equipment_id: 80,\n  }\n};\nexport const CARD_HOUSE_LIGHT_ALL = {\n  type: CARD_TYPES.lights,\n  title: 'Lumières',\n};\n\n// Living\nexport const CARD_LIVING_THERMOSTAT = {\n  type: CARD_TYPES.thermostat,\n  title: 'Environnement',\n  settings: {\n    weather_equipment_id: 94,\n    thermostat_equipment_id: 48 \n  }\n};\nexport const CARD_LIVING_LIGHT_MODE = {\n  type: CARD_TYPES.mode,\n  title: 'Lumière',\n  settings: {\n    equipment_id: 97,\n  }\n};\nexport const CARD_LIVING_CAMERA = {\n  type: CARD_TYPES.camera,\n  title: 'Séjour',\n  settings: {\n    equipment_id: 52,\n  }\n};\n\n// Kitchen\nexport const CARD_KITCHEN_WEAHTER = {\n  type: CARD_TYPES.weather,\n  title: 'Environnement',\n  settings: {\n    equipment_id: 126,\n  }\n};\nexport const CARD_KITCHEN_LIGHT_MODE = {\n  type: CARD_TYPES.mode,\n  title: 'Lumière',\n  settings: {\n    equipment_id: 108,\n  }\n};\n\n// Bedroom Helena & Cyril\nexport const CARD_BEDROOM_MAIN_THERMOSTAT = {\n  type: CARD_TYPES.thermostat,\n  title: 'Environnement',\n  settings: {\n    weather_equipment_id: 102,\n    thermostat_equipment_id: 49 \n  }\n}\n\n// Agathe's bedroom\nexport const CARD_BEDROOM_AGATHE_THERMOSTAT = {\n  type: CARD_TYPES.thermostat,\n  title: 'Environnement',\n  settings: {\n    weather_equipment_id: 103,\n    thermostat_equipment_id: 53 \n  }\n}\n\n// Entry\nexport const CARD_ENTRY_DOOR = {\n  type: CARD_TYPES.door,\n  title: 'Porte',\n  settings: {\n    command_id: 2147,\n  }\n};\nexport const CARD_ENTRY_LIGHT_MODE = {\n  type: CARD_TYPES.mode,\n  title: 'Lumière',\n  settings: {\n    equipment_id: 109,\n  }\n}\n\n// Office\nexport const CARD_OFFICE_WEATHER = {\n  type: CARD_TYPES.weather,\n  title: 'Environnement',\n  settings: {\n    equipment_id: 120,\n  }\n};\n\n// Bathroom\nexport const CARD_BATHROOM_WEATHER = {\n  type: CARD_TYPES.weather,\n  title: 'Environnement',\n  settings: {\n    equipment_id: 104,\n  }\n}\n\n// Garage\nexport const CARD_GARAGE_CAMERADOOR = {\n  type: CARD_TYPES.cameraDoor,\n  title: 'Garage',\n  settings: {\n    equipment_id: 56,\n    door_status_command: 2144,\n    door_trigger_command: 880,\n  }\n}\n\n// Exterior\nexport const CARD_EXTERIOR_WEATHER = {\n  type: CARD_TYPES.weather,\n  title: 'Extérieur',\n  settings: {\n    equipment_id: 95,\n  }\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport CardCamera from '../../components/CardCamera/CardCamera';\nimport CardCameraDoor from '../../components/CardCameraDoor/CardCameraDoor';\nimport CardDoor from '../../components/CardDoor/CardDoor';\nimport CardLight from '../../components/CardLights/CardLights';\nimport CardMode from '../../components/CardMode/CardMode';\nimport CardThermostat from '../../components/CardThermostat/CardThermostat';\nimport CardWeather from '../../components/CardWeather/CardWeather';\nimport { cameraImageRequested } from '../../redux/modules/camera';\nimport { doorStatusWithHistoryRequested, doorTriggerRequested, doorHistoryShow, doorHistoryHide } from '../../redux/modules/door';\nimport { allLightStatusRequested, allLightsOffRequested } from '../../redux/modules/light';\nimport { modeListRequested, modeChangeRequested } from '../../redux/modules/mode';\nimport { thermostatRequested, thermostatModeChangeRequested } from '../../redux/modules/thermostat';\nimport { weatherRequested, weatherHistoryShow, weatherHistoryHide } from '../../redux/modules/weather';\n\nimport { CARD_TYPES } from '../../constants/cards';\n\nexport class CardContainer extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      open: false\n    };\n\n    this.handleShowMoreCards = this.handleShowMoreCards.bind(this);\n  }\n\n  componentDidMount() {\n    this.prepareAllCards();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (JSON.stringify(this.props.cards) !== JSON.stringify(prevProps.cards)) {\n      this.prepareAllCards();\n    }\n  }\n\n  handleShowMoreCards(e) {\n    e.preventDefault();\n    this.setState({open: true});\n  }\n\n  prepareAllCards() {\n    this.props.cards.forEach((card) => {\n      this.prepareCard(card);\n    })\n  }\n  prepareCard(card) {\n    switch (card.type) {\n      case CARD_TYPES.camera:\n        this.props.getCameraImage(card.settings.equipment_id);\n        break;\n      \n      case CARD_TYPES.cameraDoor:\n        this.props.getCameraImage(card.settings.equipment_id);\n        this.props.getDoorStatusHistory({id: card.settings.door_status_command});\n        break;\n      \n      case CARD_TYPES.door:\n        this.props.getDoorStatusHistory({id: card.settings.command_id});\n        break;\n      \n      case CARD_TYPES.lights:\n        this.props.getAllLightStatus();\n        break;\n      \n      case CARD_TYPES.mode:\n        this.props.getMode(card.settings.equipment_id);\n        break;\n\n      case CARD_TYPES.thermostat:\n        this.props.getThermostat(card.settings.thermostat_equipment_id);\n        this.props.getWeather(card.settings.weather_equipment_id);\n        break;\n\n      case CARD_TYPES.weather:\n        this.props.getWeather(card.settings.equipment_id);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  createCard(card, index) {\n    switch (card.type) {\n      case CARD_TYPES.camera:\n        return <CardCamera\n        title={card.title}\n        cameraImage={this.props.camera[card.settings.equipment_id]}\n        key={index} />;\n\n      case CARD_TYPES.cameraDoor:\n        return <CardCameraDoor\n          title={card.title}\n          cameraImage={this.props.camera[card.settings.equipment_id]}\n          door={this.props.door[card.settings.door_status_command]}\n          triggerCmd={card.settings.door_trigger_command}\n          onDoorTriggerClick={this.props.handleDoorTriggerClick}\n          onHistoryClick={this.props.handleDoorHistoryClick}\n          onHistoryBackdropClose={this.props.handleDoorHistoryBackdropClose}\n          key={index} />;\n\n      case CARD_TYPES.door:\n        return <CardDoor\n          title={card.title}\n          door={this.props.door[card.settings.command_id]}\n          onHistoryClick={this.props.handleDoorHistoryClick}\n          onHistoryBackdropClose={this.props.handleDoorHistoryBackdropClose}\n          key={index} />;\n      \n      case CARD_TYPES.lights:\n        return <CardLight\n          title={card.title}\n          lights={this.props.lights}\n          onOffClick={this.props.handleAllLightOffClick}\n          key={index} />\n\n      case CARD_TYPES.mode:\n        return <CardMode\n          title={card.title}\n          mode={this.props.mode[card.settings.equipment_id]}\n          onModeClick={this.props.handleChangeMode}\n          key={index} />;\n\n      case CARD_TYPES.thermostat:\n        return <CardThermostat\n          title={card.title}\n          thermostat={this.props.thermostat[card.settings.thermostat_equipment_id]}\n          weather={this.props.weather[card.settings.weather_equipment_id]}\n          onModeChange={this.props.handleThermostatModeChange}\n          onHistoryClick={this.props.handleWeatherHistoryShow}\n          onHistoryClose={this.props.handleWeatherHistoryClose}\n          key={index} />;\n\n      case CARD_TYPES.weather:\n        return <CardWeather\n          title={card.title}\n          weather={this.props.weather[card.settings.equipment_id]}\n          onHistoryClick={this.props.handleWeatherHistoryShow}\n          onHistoryClose={this.props.handleWeatherHistoryClose}\n          key={index} />;\n\n      default:\n        return;\n    }\n  }\n  \n\n  render() {\n    let cards = [];\n    this.props.cards.forEach((card, i) => {\n      cards.push(this.createCard(card, i));\n    });\n\n    let button = '';\n    let mainCards = [ ...cards ];\n    let otherCards = [];\n\n    if (this.props.collapse) {\n      mainCards = cards.slice(0, this.props.collapse);\n\n      if (this.state.open) {\n        otherCards = cards.slice(this.props.collapse);\n      }\n      else {\n        button = <p className=\"text-center\">\n          <button type=\"button\" className=\"btn btn-light\" onClick={this.handleShowMoreCards}>Voir plus</button>\n        </p>;\n      }\n    }\n\n    return <div>\n      {mainCards}\n      {button}\n      {otherCards}\n    </div>;\n  }\n}\n\n\nconst mapStateToProps = (state) => ({\n  lights: state.light,\n  door: state.door,\n  camera: state.camera,\n  mode: state.mode,\n  thermostat: state.thermostat,\n  weather: state.weather,\n});\n\nconst mapDispatchToProps = {\n  // Camera\n  getCameraImage: cameraImageRequested,\n  // Door\n  handleDoorTriggerClick: doorTriggerRequested,\n  getDoorStatusHistory: doorStatusWithHistoryRequested,\n  handleDoorHistoryClick: doorHistoryShow,\n  handleDoorHistoryBackdropClose: doorHistoryHide,\n  // Lights\n  getAllLightStatus: allLightStatusRequested,\n  handleAllLightOffClick: allLightsOffRequested,\n  // Mode\n  getMode: modeListRequested,\n  handleChangeMode: modeChangeRequested,\n  // Thermostat\n  getThermostat: thermostatRequested,\n  handleThermostatModeChange: thermostatModeChangeRequested,\n  // Weather\n  getWeather: weatherRequested,\n  handleWeatherHistoryShow: weatherHistoryShow,\n  handleWeatherHistoryClose: weatherHistoryHide,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CardContainer);\n","import React from 'react';\nimport CardContainer from '../../containers/CardContainer/CardContainer';\n\nimport {\n  CARD_HOUSE_LIGHT_ALL,\n  CARD_HOUSE_MODE,\n  CARD_LIVING_THERMOSTAT,\n  CARD_LIVING_LIGHT_MODE,\n  CARD_LIVING_CAMERA,\n  CARD_ENTRY_DOOR,\n  CARD_GARAGE_CAMERADOOR,\n  CARD_EXTERIOR_WEATHER,\n  CARD_BEDROOM_MAIN_THERMOSTAT,\n  CARD_BEDROOM_AGATHE_THERMOSTAT } from '../../constants/cards';\n\nfunction Home(props) {\n  let cards = [];\n  \n  const presence = Object.keys(props.summary.presence).reduce((total, person) => (\n    total + (props.summary.presence[person] === true ? 1 : 0)\n  ), 0)\n\n  if (presence > 0) {\n    cards.push(CARD_LIVING_LIGHT_MODE);\n    cards.push(CARD_LIVING_THERMOSTAT);\n    cards.push(CARD_BEDROOM_AGATHE_THERMOSTAT);\n    cards.push(CARD_BEDROOM_MAIN_THERMOSTAT);\n    cards.push(CARD_EXTERIOR_WEATHER);\n  }\n  else {\n    cards.push(CARD_LIVING_CAMERA);\n    cards.push(CARD_GARAGE_CAMERADOOR);\n    cards.push(CARD_HOUSE_LIGHT_ALL);\n    cards.push(CARD_HOUSE_MODE);\n    cards.push(CARD_ENTRY_DOOR);\n    cards.push(CARD_EXTERIOR_WEATHER);\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"card-columns\">\n        <CardContainer cards={cards} collapse='3' />\n      </div>\n    </div>\n  )\n}\n\nexport default Home;\n","import React from 'react';\nimport Backdrop from '../Backdrop/Backdrop';\nimport CardContainer from '../../containers/CardContainer/CardContainer';\n\nexport function BackdropRoom(props) {\n  return (\n    <Backdrop title={props.room.name} onClose={props.onClose}>\n      <CardContainer cards={props.room.cards} />\n    </Backdrop>\n  );\n}\n\nexport default BackdropRoom;\n","import React, { Component } from 'react';\nimport BackdropRoom from '../BackdropRoom/BackdropRoom';\nimport './Room.scss';\n\nexport class Room extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      showBackdrop: false,\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n  }\n\n  handleClick() {\n    this.setState({showBackdrop: true});\n  }\n\n  handleClose() {\n    this.setState({showBackdrop: false});\n  }\n\n  render() {\n    const backdrop = this.state.showBackdrop ? <BackdropRoom room={this.props.room} onClose={this.handleClose} /> : '';\n\n    return (\n      <div className=\"col-6 col-md-4 col-lg-3\">\n        <div className=\"card room\" onClick={this.handleClick}>\n          {this.props.room.name}\n        </div>\n        {backdrop}\n      </div>\n    )\n  };\n}\n\nexport default Room;\n","import {\n  CARD_LIVING_THERMOSTAT,\n  CARD_LIVING_LIGHT_MODE,\n  CARD_LIVING_CAMERA,\n  CARD_KITCHEN_WEAHTER,\n  CARD_KITCHEN_LIGHT_MODE,\n  CARD_BEDROOM_MAIN_THERMOSTAT,\n  CARD_BEDROOM_AGATHE_THERMOSTAT,\n  CARD_ENTRY_DOOR,\n  CARD_ENTRY_LIGHT_MODE,\n  CARD_OFFICE_WEATHER,\n  CARD_BATHROOM_WEATHER,\n  CARD_GARAGE_CAMERADOOR,\n} from './cards';\n\nconst LIVING = {\n  name: 'Séjour',\n  cards: [\n    CARD_LIVING_THERMOSTAT,\n    CARD_LIVING_LIGHT_MODE,\n    CARD_LIVING_CAMERA,\n  ]\n}\n\nconst KITCHEN = {\n  name: 'Cuisine',\n  cards: [\n    CARD_KITCHEN_WEAHTER,\n    CARD_KITCHEN_LIGHT_MODE,\n  ]\n}\n\nconst BEDROOM_MAIN = {\n  name: 'Chambre',\n  cards: [\n    CARD_BEDROOM_MAIN_THERMOSTAT,\n  ]\n}\n\nconst BEDROOM_AGATHE = {\n  name: 'Chambre Agathe',\n  cards: [\n    CARD_BEDROOM_AGATHE_THERMOSTAT,\n  ]\n}\n\nconst ENTRY = {\n  name: 'Entrée',\n  cards: [\n    CARD_ENTRY_DOOR,\n    CARD_ENTRY_LIGHT_MODE,\n  ]\n}\n\nconst OFFICE = {\n  name: 'Bureau',\n  cards: [\n    CARD_OFFICE_WEATHER,\n  ]\n}\n\nconst BATHROOM = {\n  name: 'Salle de bain',\n  cards: [\n    CARD_BATHROOM_WEATHER,\n  ]\n}\n\nconst GARAGE = {\n  name: 'Garage',\n  cards: [\n    CARD_GARAGE_CAMERADOOR,\n  ]\n}\n\nexport const ROOMS = [\n  LIVING,\n  KITCHEN,\n  BEDROOM_MAIN,\n  BEDROOM_AGATHE,\n  ENTRY,\n  GARAGE,\n  BATHROOM,\n  OFFICE,\n]","import React from 'react';\nimport Room from '../Room/Room';\nimport { ROOMS } from '../../constants/rooms';\nimport './RoomList.scss';\n\nfunction RoomList() {\n  let roomList = [];\n  ROOMS.forEach((room, i) => roomList.push(<Room key={i} room={room} />))\n  \n  return (\n    <div className=\"room-list-container\">\n      <div className=\"container\">\n        <div className=\"row room-list\">\n          <div className=\"col-12\">\n            <h3 className=\"container-title\">Pièces</h3>\n            <div className=\"row\">\n              {roomList}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default RoomList;\n","import React from 'react';\n\nimport Backdrop from '../Backdrop/Backdrop';\nimport SettingsForm from '../../containers/SettingsForm/SettingsForm';\n\nfunction BackdropSettings(props) {\n  return (\n    props.show ?\n      <Backdrop title=\"Paramètres\" onClose={props.onClose}>\n        <SettingsForm onSuccess={props.onSuccess} />\n      </Backdrop>\n    : ''\n  );\n}\n\nexport default BackdropSettings;\n","import React from 'react';\nimport './Snackbar.scss';\n\nfunction Snackbar(props) {\n  const cssClass = props.text ? ' snackbar-show' : ' snackbar-hide';\n\n  return (\n    <div className={'container snackbar-container ' + cssClass}>\n      <div className=\"row\">\n        <div className=\"col-12 fixed-bottom\">\n          <div className={'snackbar alert alert-' + props.type} role=\"alert\">\n            {props.text}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Snackbar;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { showSettings, hideSettings, settingsFormSucceeded } from \"../../redux/modules/settings\";\nimport { appLaunchRequested, appLaunchSucceeded } from \"../../redux/modules/launchScreen\";\nimport { setSummaryIntervalRegistration } from \"../../redux/modules/summary\";\n\nimport LaunchScreen from '../../components/LaunchScreen/LaunchScreen';\nimport Header from '../../components/Header/Header';\nimport Home from '../../components/Home/Home';\nimport RoomList from '../../components/RoomList/RoomList';\nimport BackdropSettings from '../../components/BackdropSettings/BackdropSettings';\nimport Snackbar from '../../components/Snackbar/Snackbar';\n\nimport './App.scss';\n\nexport class App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      collapsedHeader: false,\n    };\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n\n  handleScroll(e) {\n    const threshold = 10.65 * parseFloat(getComputedStyle(document.documentElement).fontSize);\n\n    this.setState({collapsedHeader: window.scrollY > threshold});\n  }\n\n  componentDidMount() {\n    window.addEventListener('scroll', this.handleScroll);\n    this.props.appLaunchRequested();\n    this.props.setSummaryIntervalRegistration();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  render() {\n    if (this.props.launchScreen.show) {\n      return (\n        <div className=\"App\" id=\"App\">\n          <LaunchScreen\n            showSetup={this.props.launchScreen.showSetup}\n            onSuccess={this.props.handleLaunchScreenSetupSuccess} />\n        </div>)\n    }\n\n    return (\n      <div className=\"App\" id=\"App\">\n        <Header \n          collapsed={this.state.collapsedHeader}\n          onShowSettings={this.props.handleShowSettings}\n          summary={this.props.summary} />\n\n        <Home summary={this.props.summary} />\n\n        <RoomList />\n        \n        <BackdropSettings\n          show={this.props.showSettingsBackdrop}\n          onClose={this.props.handleCloseSettings}\n          onSuccess={this.props.handleSettingsBackdropFormSuccess} />\n\n        <Snackbar text={this.props.snackbar.text} type={this.props.snackbar.type} />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  launchScreen: state.launchScreen,\n  showSettingsBackdrop: state.settings.show,\n  summary: state.summary,\n  snackbar: state.snackbar,\n});\n\nconst mapDispatchToProps = {\n  appLaunchRequested: appLaunchRequested,\n  handleShowSettings: showSettings,\n  handleCloseSettings: hideSettings,\n  handleLaunchScreenSetupSuccess: appLaunchSucceeded,\n  handleSettingsBackdropFormSuccess: settingsFormSucceeded,\n  setSummaryIntervalRegistration: setSummaryIntervalRegistration,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n//import store from './store/index';\nimport store from './redux/configureStore';\nimport './index.scss';\nimport App from './containers/App/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/loader.27e2ef14.svg\";","module.exports = __webpack_public_path__ + \"static/media/sun.3b2f1925.svg\";","module.exports = __webpack_public_path__ + \"static/media/rain.5804a26e.svg\";","module.exports = __webpack_public_path__ + \"static/media/light.9eee2013.svg\";","module.exports = __webpack_public_path__ + \"static/media/user.3642a6cb.svg\";","module.exports = __webpack_public_path__ + \"static/media/mail.465947d9.svg\";"],"sourceRoot":""}